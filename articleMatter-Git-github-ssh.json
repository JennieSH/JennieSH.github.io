{"info":{"title":"[Note] 使用 SSH 與 Github 連線","fileName":"github-ssh","description":"如何使用 SSH 與 GitHub 連線筆記整理","createdAt":"2022-11-21T00:00:00.000Z","updatedAt":"2022-11-21T00:00:00.000Z","tags":["Git","GitHub"]},"content":"<h6>tags: <code>Git</code>、<code>GitHub</code></h6>\n<h1 id=\"[Note] 使用 SSH 與 Github 連線\" title=\"[Note] 使用 SSH 與 Github 連線\">[Note] 使用 SSH 與 Github 連線</h1>\n<p>主要是參考 <a  href=\"https://awsm.page/git/use-github-with-ssh-complete-guide-including-vscode-setup/\" target=\"_blank\" rel=\"noreferrer noopener\">Use GitHub with SSH - Complete guide including VSCode setup</a> 和<a  href=\"https://cynthiachuang.github.io/Generating-a-Ssh-Key-and-Adding-It-to-the-Github/\" target=\"_blank\" rel=\"noreferrer noopener\">【Git】使用 SSH 金鑰與 GitHub 連線</a> 這兩篇內容，上述兩篇對步驟有都有更進一步說明，推薦閱讀，此筆記內容是著重記錄步驟。</p>\n<h2 id=\"設置基本訊息\" title=\"設置基本訊息\"><a href=\"#設置基本訊息\">設置基本訊息</a></h2>\n<pre class=\"hljs\"><code>git config --global user.name <span class=\"hljs-string\">&quot;YOUR_USERNAME&quot;</span>\ngit config --global user.email <span class=\"hljs-string\">&quot;YOUR_EMAIL_ADDRESS&quot;</span>\n</code></pre>\n<h2 id=\"生成新的 SSH 密鑰\" title=\"生成新的 SSH 密鑰\"><a href=\"#生成新的 SSH 密鑰\">生成新的 SSH 密鑰</a></h2>\n<h4>STEP 1. generate SSH key pair</h4>\n<pre class=\"hljs\"><code>ssh-keygen -t ed25519 -C <span class=\"hljs-string\">&quot;YOUR_GITHUB_EMAIL_ADDRESS&quot;</span>\n</code></pre>\n<pre class=\"hljs\"><code>Enter file <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">which</span> to save the key (/Users/&lt;username&gt;/.ssh/id_ed25519): /Users/&lt;username&gt;/.ssh/gitub_key <span class=\"hljs-comment\"># 金鑰儲存的位置與檔名</span>\n\nEnter passphrase (empty <span class=\"hljs-keyword\">for</span> no passphrase) <span class=\"hljs-comment\"># 金鑰保護密碼</span>\nEnter same passphrase again <span class=\"hljs-comment\"># 再輸入一次金鑰保護密碼</span>\n</code></pre>\n<h4>STEP 2. 配置 config 檔案(optional)</h4>\n<p>因為上面有更改了金鑰的預設名稱(更改為 <code>github_key</code>，如果使用的為預設，可跳過此步驟)，需另配置一個 config 檔</p>\n<pre class=\"hljs\"><code>vim ~/.ssh/config\n</code></pre>\n<p>檔案內需加入下面內容，IdentityFile 為剛建立的金鑰</p>\n<pre class=\"hljs\"><code> Host github.com\n  HostName github.com\n  User JennieShao\n  IdentityFile ~/.ssh/github_key\n</code></pre>\n<h2 id=\"連結至 GitHub\" title=\"連結至 GitHub\"><a href=\"#連結至 GitHub\">連結至 GitHub</a></h2>\n<h4>STEP 1. 檢視並複製生成的公鑰</h4>\n<pre class=\"hljs\"><code><span class=\"hljs-built_in\">cat</span> ~/.ssh/github_key.pub\n</code></pre>\n<h4>STEP 2. 在 GitHub 新增公鑰</h4>\n<p>點擊右上角 Avatar =&gt; <code>Settings</code> =&gt; <code>SSH and GPG keys</code> =&gt; <code>New SSH key</code></p>\n<h4>STEP 3. 連線測試</h4>\n<pre class=\"hljs\"><code>ssh -T git@github.com\n</code></pre>\n<p>如果是第一次操作的話，可能出現<a  href=\"https://stackoverflow.com/questions/71276591/how-to-unlink-the-previous-ssh-key-in-git\" target=\"_blank\" rel=\"noreferrer noopener\">下面的錯誤訊息</a></p>\n<pre class=\"hljs\"><code>The authenticity of host 'github.com (...)' can't be established.\nED25519 key fingerprint is SHA256:................\nThis key is not known by any other names\n</code></pre>\n<blockquote>\n<p>This message has nothing to do with the key that you created. The SSH server that you connected to starts by identifying itself to your ssh client, and this message means that your client doesn’t recognize the server that it connected to. You’ll get a message like this the first time you connect to any SSH server.</p>\n</blockquote>\n<p>這邊需要輸入 yes</p>\n<pre class=\"hljs\"><code>Are you sure you want to <span class=\"hljs-built_in\">continue</span> connecting (<span class=\"hljs-built_in\">yes</span>/no/[fingerprint])? <span class=\"hljs-built_in\">yes</span>\n</code></pre>\n<p>再執行一次測試指令看是否設置成功，成功的話會出現 <code>Hi username! You've successfully authenticated, but GitHub does not provide shell access.</code></p>\n<pre class=\"hljs\"><code>ssh -T git@github.com\n</code></pre>\n<div class=\"info\">\n<p>💡<strong>補充</strong></p>\n<ol>\n<li>\n<p>如果一開始就使用 HTTPS 的傳輸協定，中途才改用 SSH，需要重新再設定 remote repository 的網址</p>\n</li>\n<li>\n<p>如果有設定金鑰的保護密碼，但又不想每次使用金鑰又輸入一次密碼的話，可以考慮設定 ssh-agent</p>\n<pre class=\"hljs\"><code><span class=\"hljs-built_in\">eval</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-subst\">$(ssh-agent -s)</span>&quot;</span>\nssh-add ~/.ssh/github_key\n</code></pre>\n</li>\n</ol>\n</div>\n<h2 id=\"參考資料\" title=\"參考資料\"><a href=\"#參考資料\">參考資料</a></h2>\n<ol>\n<li><a  href=\"https://awsm.page/git/use-github-with-ssh-complete-guide-including-vscode-setup/\" target=\"_blank\" rel=\"noreferrer noopener\">Use GitHub with SSH - Complete guide including VSCode setup</a></li>\n<li><a  href=\"https://cynthiachuang.github.io/Generating-a-Ssh-Key-and-Adding-It-to-the-Github/\" target=\"_blank\" rel=\"noreferrer noopener\">【Git】使用 SSH 金鑰與 GitHub 連線</a></li>\n</ol>\n","toc":{"title":"[Note] 使用 SSH 與 Github 連線","subtitles":["設置基本訊息","生成新的 SSH 密鑰","連結至 GitHub","參考資料"]}}