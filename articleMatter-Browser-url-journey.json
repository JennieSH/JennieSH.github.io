{"info":{"title":"[Note] 網址輸入後發生什麼事？","fileName":"url-journey","description":"想知道當在瀏覽器輸入的 URL 會發生什麼事情嗎？","createdAt":"2025-09-17T00:00:00.000Z","updatedAt":"2025-09-17T00:00:00.000Z","tags":["browser"]},"content":"<h6>tags: <code>browser</code></h6>\n<h1 id=\"[Note] 網址輸入後發生什麼事？\" title=\"[Note] 網址輸入後發生什麼事？\">[Note] 網址輸入後發生什麼事？</h1>\n<h2 id=\"輸入網址\" title=\"輸入網址\"><a href=\"#輸入網址\">輸入網址</a></h2>\n<p>在瀏覽器網址列上輸入 URL：</p>\n<blockquote>\n<p><a  href=\"https://www.example.com\" target=\"_blank\" rel=\"noreferrer noopener\">https://www.example.com</a></p>\n</blockquote>\n<h2 id=\"DNS 解析\" title=\"DNS 解析\"><a href=\"#DNS 解析\">DNS 解析</a></h2>\n<p>瀏覽器輸入的 URL 實際上無法找到伺服器的地址，這些字母只是方便使用者記憶，每個網址都會有相對應的 IP 地址，但 IP 地址是由數字組成，不方便人類記憶，所以需要 DNS 轉換為機器可讀取的 IP 地址。</p>\n<p>把 URL 地址解析成 IP 地址，這一個過程就叫 DNS 解析，得到 IP 地址，就能找到指定的伺服器。</p>\n<blockquote>\n<p><a  href=\"https://www.test.com\" target=\"_blank\" rel=\"noreferrer noopener\">https://www.test.com</a> → <strong>DNS</strong> → 192.0.2.44</p>\n</blockquote>\n<blockquote>\n<p>[補充] <a  href=\"https://arc.net/l/quote/orxasqnf\" target=\"_blank\" rel=\"noreferrer noopener\">DNS 如何將流量路由到 Web 應用程式？</a></p>\n</blockquote>\n<h2 id=\"TCP 三次握手**（Three-way Handshake）**\" title=\"TCP 三次握手**（Three-way Handshake）**\"><a href=\"#TCP 三次握手**（Three-way Handshake）**\">TCP 三次握手**（Three-way Handshake）**</a></h2>\n<p>正式對伺服器發送資料前，會先建立 TCP 連接，等同於建立了 Server 和 Client 的聯絡通道，在建立通道前，會進行三次握手：</p>\n<h3>1. Client 發送 SYN 封包</h3>\n<ul>\n<li>請求連接</li>\n</ul>\n<h3>2. Server 響應 SYN + ACK 封包</h3>\n<ul>\n<li>表示同意建立連接</li>\n</ul>\n<h3>3. Client 發送 ACK 封包</h3>\n<ul>\n<li>表示成功連接</li>\n</ul>\n<p><img src=\"https://hackmd.io/_uploads/HynOKCaZWx.png\" alt=\"image\" /></p>\n<h2 id=\"發送 HTTP 請求\" title=\"發送 HTTP 請求\"><a href=\"#發送 HTTP 請求\">發送 HTTP 請求</a></h2>\n<table>\n<thead>\n<tr>\n<th><strong>請求行</strong></th>\n<th><code>method: POST authority: api.example.com path: /v1/upload</code></th>\n<th>告訴伺服器「你想做什麼、對哪個資源做」</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>請求標頭</strong></td>\n<td><code>content-type: application/json</code></td>\n<td>提供額外資訊給伺服器，說明請求的細節與設定</td>\n</tr>\n<tr>\n<td><strong>空行</strong></td>\n<td></td>\n<td>分隔「請求標頭」與「請求資料（Body）」</td>\n</tr>\n<tr>\n<td><strong>請求資料</strong></td>\n<td><code>{ &quot;filename&quot;: &quot;photo.png&quot;, &quot;size&quot;: 2048 }</code></td>\n<td>送給伺服器的內容</td>\n</tr>\n</tbody>\n</table>\n<h3>請求行（Request Line）</h3>\n<p>告訴伺服器「你想做什麼、對哪個資源做」。</p>\n<ul>\n<li>\n<p><strong>HTTP 方法（Method）</strong>：<code>GET</code>、<code>POST</code>、<code>PUT</code>、<code>DELETE</code> 等</p>\n</li>\n<li>\n<p><strong>請求地址（Path / URL）</strong>：如 <code>/v1/upload</code></p>\n</li>\n<li>\n<p><strong>HTTP 協議版本（Version）</strong>：如 <code>HTTP/1.1</code></p>\n</li>\n</ul>\n<h3>請求標頭（Request Headers）</h3>\n<p>提供額外資訊給伺服器，說明請求的細節與設定。</p>\n<p>常見項目：</p>\n<ul>\n<li>\n<p><code>content-type: application/json</code>（請求內容格式）</p>\n</li>\n<li>\n<p><code>user-agent: Mozilla/5.0</code>（瀏覽器或客戶端資訊）</p>\n</li>\n<li>\n<p><code>authorization: Bearer token</code>（驗證資訊）</p>\n</li>\n<li>\n<p><code>accept-language: zh-TW</code>（希望伺服器回應的語言）</p>\n</li>\n</ul>\n<h3>空行（Blank Line）</h3>\n<p>分隔「請求標頭」與「請求資料（Body）」。</p>\n<p>常見項目：</p>\n<ul>\n<li>\n<p>JSON</p>\n</li>\n<li>\n<p>表單資料（<code>form-data</code>）</p>\n</li>\n<li>\n<p>純文字</p>\n</li>\n<li>\n<p>二進位資料（檔案上傳）</p>\n</li>\n</ul>\n<h3>請求資料（Body / Request Data）</h3>\n<p>送給伺服器的內容，例如註冊資料、表單內容、上傳檔案等。</p>\n<h2 id=\"響應 HTTP 請求\" title=\"響應 HTTP 請求\"><a href=\"#響應 HTTP 請求\">響應 HTTP 請求</a></h2>\n<table>\n<thead>\n<tr>\n<th><strong>狀態行</strong></th>\n<th><code>status: 200 ok</code></th>\n<th>告訴客戶端「這次請求的結果如何」</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>響應標頭</strong></td>\n<td><code>content-type: application/html; charset=utf-8</code></td>\n<td>描述回應的格式、編碼、緩存方式等資訊，讓瀏覽器知道怎麼處理內容</td>\n</tr>\n<tr>\n<td><strong>空行</strong></td>\n<td></td>\n<td>分隔「響應標頭」與「回應主體」</td>\n</tr>\n<tr>\n<td><strong>響應資料</strong></td>\n<td><code>{ &quot;id&quot;: &quot;1&quot;, &quot;name&quot;: &quot;jennie&quot; }</code></td>\n<td>傳給使用者的資料內容</td>\n</tr>\n</tbody>\n</table>\n<h3>狀態行（Status Line）</h3>\n<p>用來告訴客戶端「這次請求的結果如何」。</p>\n<ul>\n<li>\n<p><strong>HTTP 版本</strong> e.g.： HTTP/1.1</p>\n</li>\n<li>\n<p><strong>狀態碼</strong>（Status Code）e.g.： 200、404、500 等</p>\n</li>\n<li>\n<p><strong>狀態訊息</strong>（Reason Phrase）e.g.：OK</p>\n</li>\n</ul>\n<h3>標頭（Headers）</h3>\n<p>描述回應的各種資訊，例如格式、編碼、緩存方式等，讓瀏覽器知道怎麼處理內容。</p>\n<p>常見項目：</p>\n<ul>\n<li>\n<p><code>content-type: application/json</code>（回應內容格式）</p>\n</li>\n<li>\n<p><code>content-length: xxx</code>（資料大小）</p>\n</li>\n<li>\n<p><code>set-cookie: xxx</code>（伺服器送 cookie）</p>\n</li>\n</ul>\n<h3>回應資料（Body / Response Data）</h3>\n<p>傳給使用者的資料內容。</p>\n<p>常見項目：</p>\n<ul>\n<li>\n<p>JSON（API 最常用）</p>\n</li>\n<li>\n<p>HTML（網頁內容）</p>\n</li>\n<li>\n<p>圖片、檔案、文字</p>\n</li>\n</ul>\n<h2 id=\"畫面渲染\" title=\"畫面渲染\"><a href=\"#畫面渲染\">畫面渲染</a></h2>\n<p>解析接受到的 HTML、CSS 和 JavaScript 等文件，然後 Web 瀏覽器就會顯示該頁面。</p>\n<h2 id=\"參考資料\" title=\"參考資料\"><a href=\"#參考資料\">參考資料</a></h2>\n<ol>\n<li>\n<p><a  href=\"https://www.youtube.com/watch?v=5yGNJ4GNQS8\" target=\"_blank\" rel=\"noreferrer noopener\">在浏览器输入 URL 回车之后发生了什么？</a></p>\n</li>\n<li>\n<p><a  href=\"https://aws.amazon.com/tw/route53/what-is-dns/\" target=\"_blank\" rel=\"noreferrer noopener\">什麼是 DNS?</a></p>\n</li>\n<li>\n<p><a  href=\"https://ichigoichie.medium.com/%E4%BA%92%E8%81%AF%E7%B6%B2%E5%8D%94%E8%AD%B0-tcp-%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E5%9B%9B%E6%AC%A1%E6%8F%AE%E6%89%8B-1e5f5f87fc9\" target=\"_blank\" rel=\"noreferrer noopener\">互聯網協議 | TCP 三次握手 四次揮手</a></p>\n</li>\n</ol>\n","toc":{"title":"[Note] 網址輸入後發生什麼事？","subtitles":["輸入網址","DNS 解析","TCP 三次握手**（Three-way Handshake）**","發送 HTTP 請求","響應 HTTP 請求","畫面渲染","參考資料"]},"wordCount":791}