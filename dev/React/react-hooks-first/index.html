<!doctype html>
<html data-n-head-ssr lang="zh-tw" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22zh-tw%22%7D%7D">
  <head>
    <title>[Note] React Hooks æ•´ç†ï½œå‚‘å°¼æµ·é¦¬è¿´ï½œJennie DEV</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" name="google-site-verification" content="KAONipFn6ticaFtY32RIDOQP-5J9AcuoHlXoV8mzBRc"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="å‚‘å°¼æµ·é¦¬è¿´ï½œJennie DEV"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="article"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="/favicon.ico"><meta data-n-head="ssr" data-hid="og:image:width" property="og:image:width" content="300"><meta data-n-head="ssr" data-hid="og:image:height" property="og:image:height" content="300"><meta data-n-head="ssr" data-hid="description" name="description" content="æœ€è¿‘é–‹å§‹å­¸ç¿’ React Hooksï¼Œè¶é€™æ¬¡æ©Ÿæœƒæ•´ç†å¸¸è¦‹çš„ Hooksï¼Œå…§å®¹æ…¢æ…¢å¢åŠ ä¸­ï¼"><meta data-n-head="ssr" data-hid="og:title" name="og:title" content="[Note] React Hooks æ•´ç†ï½œå‚‘å°¼æµ·é¦¬è¿´ï½œJennie DEV"><meta data-n-head="ssr" data-hid="og:description" name="og:description" content="æœ€è¿‘é–‹å§‹å­¸ç¿’ React Hooksï¼Œè¶é€™æ¬¡æ©Ÿæœƒæ•´ç†å¸¸è¦‹çš„ Hooksï¼Œå…§å®¹æ…¢æ…¢å¢åŠ ä¸­ï¼"><meta data-n-head="ssr" data-hid="og:url" name="og:url" content="https://jenniesh.github.io/dev/React/react-hooks-first"><meta data-n-head="ssr" data-hid="keywords" name="keywords" content="Reactã€React Hooks"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&family=Lato:wght@400;700&display=swap"><link rel="preload" href="/_nuxt/b2bd543.js" as="script"><link rel="preload" href="/_nuxt/c0b5891.js" as="script"><link rel="preload" href="/_nuxt/d5937fe.js" as="script"><link rel="preload" href="/_nuxt/aa6a0dc.js" as="script"><link rel="preload" href="/_nuxt/cc6e922.js" as="script"><link rel="preload" href="/_nuxt/dd029ca.js" as="script"><style data-vue-ssr-id="54b08540:0 4ec1dd84:0 4ba1b844:0 a57b151a:0 7ca831e9:0 2c5596f2:0 a4cc32c8:0 2e855d11:0 bf9add4a:0 357a6f66:0 153645fe:0">/*! tailwindcss v2.2.19 | MIT License | https://tailwindcss.com*//*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,::after,::before{box-sizing:border-box}html{-moz-tab-size:4;-o-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}body{font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji'}hr{height:0;color:inherit}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,'Liberation Mono',Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}legend{padding:0}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset{margin:0;padding:0}ol,ul{list-style:none;margin:0;padding:0}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}body{font-family:inherit;line-height:inherit}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:-moz-focusring{outline:auto}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,::after,::before{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity));--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}.container{width:100%;margin-right:auto;margin-left:auto}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.left-0{left:0}.top-0{top:0}.top-\[14px\]{top:14px}.top-\[-12px\]{top:-12px}.top-\[12px\]{top:12px}.top-\[15\%\]{top:15%}.right-\[-28px\]{right:-28px}.-left-4{left:-1rem}.left-\[-8px\]{left:-8px}.z-10{z-index:10}.m-1{margin:.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mx-8{margin-left:2rem;margin-right:2rem}.my-4{margin-top:1rem;margin-bottom:1rem}.my-7{margin-top:1.75rem;margin-bottom:1.75rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.mx-\[10\%\]{margin-left:10%;margin-right:10%}.my-5{margin-top:1.25rem;margin-bottom:1.25rem}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.mr-2{margin-right:.5rem}.mt-4{margin-top:1rem}.mr-1{margin-right:.25rem}.mt-8{margin-top:2rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.mb-2{margin-bottom:.5rem}.mb-10{margin-bottom:2.5rem}.mt-12{margin-top:3rem}.mt-6{margin-top:1.5rem}.mt-5{margin-top:1.25rem}.mb-8{margin-bottom:2rem}.ml-4{margin-left:1rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.hidden{display:none}.h-4{height:1rem}.h-full{height:100%}.h-1{height:.25rem}.h-8{height:2rem}.h-5{height:1.25rem}.h-\[fit-content\]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.h-7{height:1.75rem}.h-60{height:15rem}.h-3{height:.75rem}.max-h-screen{max-height:100vh}.min-h-screen{min-height:100vh}.w-4{width:1rem}.w-1\/5{width:20%}.w-full{width:100%}.w-16{width:4rem}.w-4\/5{width:80%}.w-8{width:2rem}.w-6{width:1.5rem}.w-5{width:1.25rem}.w-56{width:14rem}.w-7{width:1.75rem}.w-60{width:15rem}.w-\[fit-content\]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.w-3{width:.75rem}.flex-initial{flex:0 1 auto}.flex-none{flex:none}.flex-grow{flex-grow:1}.-rotate-45{--tw-rotate:-45deg;transform:var(--tw-transform)}.rotate-45{--tw-rotate:45deg;transform:var(--tw-transform)}.transform{transform:var(--tw-transform)}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-evenly{justify-content:space-evenly}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-r-full{border-top-right-radius:9999px;border-bottom-right-radius:9999px}.border-b-2{border-bottom-width:2px}.border-l-4{border-left-width:4px}.border-b{border-bottom-width:1px}.border-transparent{border-color:transparent}.border-gray-200{--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity))}.border-light-primary{--tw-border-opacity:1;border-color:rgba(60,162,162,var(--tw-border-opacity))}.bg-light-block{--tw-bg-opacity:1;background-color:rgba(250,250,250,var(--tw-bg-opacity))}.bg-light-bg{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgba(249,250,251,var(--tw-bg-opacity))}.bg-light-title{--tw-bg-opacity:1;background-color:rgba(33,90,109,var(--tw-bg-opacity))}.bg-light-primary{--tw-bg-opacity:1;background-color:rgba(60,162,162,var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity))}.bg-light-gray{--tw-bg-opacity:1;background-color:rgba(113,113,122,var(--tw-bg-opacity))}.p-4{padding:1rem}.p-8{padding:2rem}.p-\[8\%\]{padding:8%}.px-8{padding-left:2rem;padding-right:2rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pl-3{padding-left:.75rem}.pt-1{padding-top:.25rem}.pl-0{padding-left:0}.pl-6{padding-left:1.5rem}.text-center{text-align:center}.text-sm{font-size:.875rem;line-height:1.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-xs{font-size:.75rem;line-height:1rem}.text-\[13px\]{font-size:13px}.text-\[3rem\]{font-size:3rem}.text-\[10px\]{font-size:10px}.font-bold{font-weight:700}.font-normal{font-weight:400}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.italic{font-style:italic}.tracking-wide{letter-spacing:.025em}.text-dark-gray{--tw-text-opacity:1;color:rgba(169,169,169,var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgba(75,85,99,var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity:1;color:rgba(156,163,175,var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgba(31,41,55,var(--tw-text-opacity))}.text-light-title{--tw-text-opacity:1;color:rgba(33,90,109,var(--tw-text-opacity))}.text-light-primary{--tw-text-opacity:1;color:rgba(60,162,162,var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgba(107,114,128,var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity:1;color:rgba(209,213,219,var(--tw-text-opacity))}.text-common-gray{--tw-text-opacity:1;color:rgba(113,113,122,var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.1),0 1px 2px 0 rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:150ms}.delay-500{transition-delay:.5s}.duration-1000{transition-duration:1s}.duration-100{transition-duration:.1s}.hover\:border-common-active:hover{--tw-border-opacity:1;border-color:rgba(146,199,163,var(--tw-border-opacity))}.hover\:bg-light-block:hover{--tw-bg-opacity:1;background-color:rgba(250,250,250,var(--tw-bg-opacity))}.hover\:text-common-active:hover{--tw-text-opacity:1;color:rgba(146,199,163,var(--tw-text-opacity))}.hover\:text-gray-600:hover{--tw-text-opacity:1;color:rgba(75,85,99,var(--tw-text-opacity))}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1),0 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.dark .dark\:bg-dark-black{--tw-bg-opacity:1;background-color:rgba(39,39,42,var(--tw-bg-opacity))}.dark .dark\:bg-dark-block{--tw-bg-opacity:1;background-color:rgba(30,31,37,var(--tw-bg-opacity))}.dark .dark\:text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark .dark\:text-dark-gray{--tw-text-opacity:1;color:rgba(169,169,169,var(--tw-text-opacity))}.dark .dark\:text-gray-50{--tw-text-opacity:1;color:rgba(249,250,251,var(--tw-text-opacity))}.dark .dark\:text-dark-text{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}@media (min-width:768px){.md\:mt-20{margin-top:5rem}.md\:hidden{display:none}.md\:px-16{padding-left:4rem;padding-right:4rem}}@media (min-width:1024px){.lg\:block{display:block}}@media (min-width:1280px){.xl\:block{display:block}.xl\:px-16{padding-left:4rem;padding-right:4rem}.xl\:px-48{padding-left:12rem;padding-right:12rem}}/*! tailwindcss v2.2.19 | MIT License | https://tailwindcss.com*//*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,::after,::before{box-sizing:border-box}html{-moz-tab-size:4;-o-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}body{font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji'}hr{height:0;color:inherit}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,'Liberation Mono',Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}legend{padding:0}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset{margin:0;padding:0}ol,ul{list-style:none;margin:0;padding:0}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}body{font-family:inherit;line-height:inherit}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:-moz-focusring{outline:auto}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,::after,::before{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity));--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}.container{width:100%;margin-right:auto;margin-left:auto}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.left-0{left:0}.top-0{top:0}.top-\[14px\]{top:14px}.top-\[-12px\]{top:-12px}.top-\[12px\]{top:12px}.top-\[15\%\]{top:15%}.right-\[-28px\]{right:-28px}.-left-4{left:-1rem}.left-\[-8px\]{left:-8px}.z-10{z-index:10}.m-1{margin:.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mx-8{margin-left:2rem;margin-right:2rem}.my-4{margin-top:1rem;margin-bottom:1rem}.my-7{margin-top:1.75rem;margin-bottom:1.75rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.mx-\[10\%\]{margin-left:10%;margin-right:10%}.my-5{margin-top:1.25rem;margin-bottom:1.25rem}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.mr-2{margin-right:.5rem}.mt-4{margin-top:1rem}.mr-1{margin-right:.25rem}.mt-8{margin-top:2rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.mb-2{margin-bottom:.5rem}.mb-10{margin-bottom:2.5rem}.mt-12{margin-top:3rem}.mt-6{margin-top:1.5rem}.mt-5{margin-top:1.25rem}.mb-8{margin-bottom:2rem}.ml-4{margin-left:1rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.hidden{display:none}.h-4{height:1rem}.h-full{height:100%}.h-1{height:.25rem}.h-8{height:2rem}.h-5{height:1.25rem}.h-\[fit-content\]{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.h-7{height:1.75rem}.h-60{height:15rem}.h-3{height:.75rem}.max-h-screen{max-height:100vh}.min-h-screen{min-height:100vh}.w-4{width:1rem}.w-1\/5{width:20%}.w-full{width:100%}.w-16{width:4rem}.w-4\/5{width:80%}.w-8{width:2rem}.w-6{width:1.5rem}.w-5{width:1.25rem}.w-56{width:14rem}.w-7{width:1.75rem}.w-60{width:15rem}.w-\[fit-content\]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.w-3{width:.75rem}.flex-initial{flex:0 1 auto}.flex-none{flex:none}.flex-grow{flex-grow:1}.-rotate-45{--tw-rotate:-45deg;transform:var(--tw-transform)}.rotate-45{--tw-rotate:45deg;transform:var(--tw-transform)}.transform{transform:var(--tw-transform)}.cursor-pointer{cursor:pointer}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-evenly{justify-content:space-evenly}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-r-full{border-top-right-radius:9999px;border-bottom-right-radius:9999px}.border-b-2{border-bottom-width:2px}.border-l-4{border-left-width:4px}.border-b{border-bottom-width:1px}.border-transparent{border-color:transparent}.border-gray-200{--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity))}.border-light-primary{--tw-border-opacity:1;border-color:rgba(60,162,162,var(--tw-border-opacity))}.bg-light-block{--tw-bg-opacity:1;background-color:rgba(250,250,250,var(--tw-bg-opacity))}.bg-light-bg{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgba(249,250,251,var(--tw-bg-opacity))}.bg-light-title{--tw-bg-opacity:1;background-color:rgba(33,90,109,var(--tw-bg-opacity))}.bg-light-primary{--tw-bg-opacity:1;background-color:rgba(60,162,162,var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity))}.bg-light-gray{--tw-bg-opacity:1;background-color:rgba(113,113,122,var(--tw-bg-opacity))}.p-4{padding:1rem}.p-8{padding:2rem}.p-\[8\%\]{padding:8%}.px-8{padding-left:2rem;padding-right:2rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pl-3{padding-left:.75rem}.pt-1{padding-top:.25rem}.pl-0{padding-left:0}.pl-6{padding-left:1.5rem}.text-center{text-align:center}.text-sm{font-size:.875rem;line-height:1.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-xs{font-size:.75rem;line-height:1rem}.text-\[13px\]{font-size:13px}.text-\[3rem\]{font-size:3rem}.text-\[10px\]{font-size:10px}.font-bold{font-weight:700}.font-normal{font-weight:400}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.italic{font-style:italic}.tracking-wide{letter-spacing:.025em}.text-dark-gray{--tw-text-opacity:1;color:rgba(169,169,169,var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgba(75,85,99,var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity:1;color:rgba(156,163,175,var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgba(31,41,55,var(--tw-text-opacity))}.text-light-title{--tw-text-opacity:1;color:rgba(33,90,109,var(--tw-text-opacity))}.text-light-primary{--tw-text-opacity:1;color:rgba(60,162,162,var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgba(107,114,128,var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity:1;color:rgba(209,213,219,var(--tw-text-opacity))}.text-common-gray{--tw-text-opacity:1;color:rgba(113,113,122,var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.1),0 1px 2px 0 rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:150ms}.delay-500{transition-delay:.5s}.duration-1000{transition-duration:1s}.duration-100{transition-duration:.1s}.page-enter-active,.page-leave-active{transition:opacity .5s}.page-enter,.page-leave-to{opacity:0}.fade-enter-active,.fade-leave-active{transition:opacity 1s}.fade-enter,.fade-leave-to{opacity:0}.slide-enter-active,.slide-leave-active{transform:translateX(0);transition:all .5s ease-in-out}.slide-enter,.slide-leave-to{transform:translateX(-100%)}.slide-reverse-enter-active,.slide-reverse-leave-active{transform:translateX(0);transition:all 1.5s ease-in-out}.slide-reverse-enter,.slide-reverse-leave-to{transform:translateX(100%)}@-webkit-keyframes twinkle{0%{box-shadow:inset -3px 0 0 #ffd311}to{box-shadow:inset -3px 0 0 transparent}}@keyframes twinkle{0%{box-shadow:inset -3px 0 0 #ffd311}to{box-shadow:inset -3px 0 0 transparent}}@-webkit-keyframes swing{0%{transform:translateX(0)}50%{transform:translateX(-5px)}to{transform:translateX(0)}}@keyframes swing{0%{transform:translateX(0)}50%{transform:translateX(-5px)}to{transform:translateX(0)}}@-webkit-keyframes fadeInOut{0%{opacity:1}50%{opacity:.3}to{opacity:1}}@keyframes fadeInOut{0%{opacity:1}50%{opacity:.3}to{opacity:1}}*{font-family:"DM Sans",sans-serif;scroll-behavior:smooth}.app{display:flex;min-height:100vh;flex-direction:column;justify-content:space-between;--tw-text-opacity:1;color:rgba(39,39,42,var(--tw-text-opacity))}.dark .app{--tw-bg-opacity:1;background-color:rgba(19,20,23,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.app{transition:background-color .5s ease-in-out}.app ::-moz-selection{--tw-bg-opacity:1;background-color:rgba(146,199,163,var(--tw-bg-opacity));--tw-bg-opacity:0.5}.app ::selection{--tw-bg-opacity:1;background-color:rgba(146,199,163,var(--tw-bg-opacity));--tw-bg-opacity:0.5}.dark .app ::-moz-selection{--tw-bg-opacity:0.7}.dark .app ::selection{--tw-bg-opacity:0.7}.container{flex-grow:1}@media (min-width:1280px){.container{max-width:64rem}}@media (min-width:1536px){.container{max-width:80rem}}h1,h2,h3,h4,h5,h6{font-weight:700}h1{font-size:1.5rem;line-height:2rem}h2{font-size:1.25rem;line-height:1.75rem}h3{padding-top:.25rem;padding-bottom:.25rem}.hover\:border-common-active:hover{--tw-border-opacity:1;border-color:rgba(146,199,163,var(--tw-border-opacity))}.hover\:bg-light-block:hover{--tw-bg-opacity:1;background-color:rgba(250,250,250,var(--tw-bg-opacity))}.hover\:text-common-active:hover{--tw-text-opacity:1;color:rgba(146,199,163,var(--tw-text-opacity))}.hover\:text-gray-600:hover{--tw-text-opacity:1;color:rgba(75,85,99,var(--tw-text-opacity))}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1),0 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.dark .dark\:bg-dark-black{--tw-bg-opacity:1;background-color:rgba(39,39,42,var(--tw-bg-opacity))}.dark .dark\:bg-dark-block{--tw-bg-opacity:1;background-color:rgba(30,31,37,var(--tw-bg-opacity))}.dark .dark\:text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark .dark\:text-dark-gray{--tw-text-opacity:1;color:rgba(169,169,169,var(--tw-text-opacity))}.dark .dark\:text-gray-50{--tw-text-opacity:1;color:rgba(249,250,251,var(--tw-text-opacity))}.dark .dark\:text-dark-text{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}@media (min-width:768px){.md\:mt-20{margin-top:5rem}.md\:hidden{display:none}.md\:px-16{padding-left:4rem;padding-right:4rem}}@media (min-width:1024px){.lg\:block{display:block}}@media (min-width:1280px){.xl\:block{display:block}.xl\:px-16{padding-left:4rem;padding-right:4rem}.xl\:px-48{padding-left:12rem;padding-right:12rem}}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: GitHub Dark
  Description: Dark theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-dark
  Current colors taken from GitHub's CSS
*/.hljs{color:#c9d1d9;background:#0d1117}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#79c0ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#a5d6ff}.hljs-built_in,.hljs-symbol{color:#ffa657}.hljs-code,.hljs-comment,.hljs-formula{color:#8b949e}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#7ee787}.hljs-subst{color:#c9d1d9}.hljs-section{color:#1f6feb;font-weight:700}.hljs-bullet{color:#f2cc60}.hljs-emphasis{color:#c9d1d9;font-style:italic}.hljs-strong{color:#c9d1d9;font-weight:700}.hljs-addition{color:#aff5b4;background-color:#033a16}.hljs-deletion{color:#ffdcd7;background-color:#67060c}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}header[data-v-98ec6cc0]{display:flex;align-items:center;justify-content:space-between;padding:1rem}@media (min-width:768px){header[data-v-98ec6cc0]{padding-left:4rem;padding-right:4rem}}@media (min-width:1280px){header[data-v-98ec6cc0]{padding-left:12rem;padding-right:12rem}}@media (min-width:1536px){header[data-v-98ec6cc0]{padding-left:20rem;padding-right:20rem}}.logo[data-v-98ec6cc0]{font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity:1;color:rgba(33,90,109,var(--tw-text-opacity))}.dark .logo[data-v-98ec6cc0]{--tw-text-opacity:1;color:rgba(252,252,252,var(--tw-text-opacity))}.logo-mb[data-v-98ec6cc0]{display:flex;align-items:center;justify-content:center}.nav-pc[data-v-98ec6cc0]{display:none}@media (min-width:768px){.nav-pc[data-v-98ec6cc0]{display:flex}}.nav-pc li[data-v-98ec6cc0]{margin-left:.25rem;margin-right:.25rem;width:4rem;border-bottom-width:2px;border-color:transparent;text-align:center}.nav-pc li[data-v-98ec6cc0]:hover{--tw-text-opacity:1;color:rgba(146,199,163,var(--tw-text-opacity))}.dark .nav-pc li[data-v-98ec6cc0]{--tw-text-opacity:1;color:rgba(169,169,169,var(--tw-text-opacity))}.dark .nav-pc li[data-v-98ec6cc0]:hover{--tw-text-opacity:1;color:rgba(146,199,163,var(--tw-text-opacity))}.nav-pc a[data-v-98ec6cc0]{display:inline-block;height:100%;width:100%}.nav-pc .active[data-v-98ec6cc0]{--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity));font-weight:700;--tw-text-opacity:1;color:rgba(60,162,162,var(--tw-text-opacity))}.dark .nav-pc .active[data-v-98ec6cc0]{--tw-text-opacity:1;color:rgba(255,212,120,var(--tw-text-opacity))}.nav-mb[data-v-98ec6cc0]{position:absolute;left:0;top:0;z-index:10;height:100%;width:80%;--tw-bg-opacity:1;background-color:rgba(249,250,251,var(--tw-bg-opacity));padding:2rem}.dark .nav-mb[data-v-98ec6cc0]{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity))}@media (min-width:768px){.nav-mb[data-v-98ec6cc0]{display:none}}.nav-mb li[data-v-98ec6cc0]{margin-bottom:.5rem;cursor:pointer;border-left-width:4px;border-color:transparent;padding-left:.5rem}.nav-mb li[data-v-98ec6cc0]:hover{--tw-text-opacity:1;color:rgba(146,199,163,var(--tw-text-opacity))}.dark .nav-mb li[data-v-98ec6cc0]:hover{--tw-text-opacity:1;color:rgba(146,199,163,var(--tw-text-opacity))}.nav-mb .active[data-v-98ec6cc0]{--tw-border-opacity:1;border-color:rgba(60,162,162,var(--tw-border-opacity))}.dark .nav-mb .active[data-v-98ec6cc0]{--tw-border-opacity:1;border-color:rgba(255,212,120,var(--tw-border-opacity))}.burger-line[data-v-98ec6cc0],.burger-line[data-v-98ec6cc0]:after,.burger-line[data-v-98ec6cc0]:before{position:absolute;height:.25rem;width:2rem;border-radius:.25rem;transition-duration:.5s}.burger-icon[data-v-98ec6cc0]{position:relative;height:2rem;width:2rem;cursor:pointer;transition-duration:1s}@media (min-width:768px){.burger-icon[data-v-98ec6cc0]{display:none}}.burger-line[data-v-98ec6cc0]{top:14px;--tw-bg-opacity:1;background-color:rgba(33,90,109,var(--tw-bg-opacity));transition-delay:.5s}.dark .burger-line[data-v-98ec6cc0]{--tw-bg-opacity:1;background-color:rgba(252,252,252,var(--tw-bg-opacity))}.burger-line[data-v-98ec6cc0]:before{top:-12px;--tw-bg-opacity:1;background-color:rgba(33,90,109,var(--tw-bg-opacity))}.dark .burger-line[data-v-98ec6cc0]:before{--tw-bg-opacity:1;background-color:rgba(252,252,252,var(--tw-bg-opacity))}.burger-line[data-v-98ec6cc0]:after,.burger-line[data-v-98ec6cc0]:before{content:"";transition:transform .5s,top .5s .5s}.burger-line[data-v-98ec6cc0]:after{top:12px;--tw-bg-opacity:1;background-color:rgba(33,90,109,var(--tw-bg-opacity))}.dark .burger-line[data-v-98ec6cc0]:after{--tw-bg-opacity:1;background-color:rgba(252,252,252,var(--tw-bg-opacity))}.burger-line.open[data-v-98ec6cc0]{background-color:transparent;transition-delay:.5s;transition-duration:.1s}.burger-line.open[data-v-98ec6cc0]:before{top:0;--tw-rotate:-45deg;transform:var(--tw-transform);--tw-bg-opacity:1;background-color:rgba(60,162,162,var(--tw-bg-opacity))}.dark .burger-line.open[data-v-98ec6cc0]:before{--tw-bg-opacity:1;background-color:rgba(255,212,120,var(--tw-bg-opacity))}.burger-line.open[data-v-98ec6cc0]:before{transition:top .5s,transform .5s .5s}.burger-line.open[data-v-98ec6cc0]:after{top:0;--tw-rotate:45deg;transform:var(--tw-transform);--tw-bg-opacity:1;background-color:rgba(60,162,162,var(--tw-bg-opacity))}.dark .burger-line.open[data-v-98ec6cc0]:after{--tw-bg-opacity:1;background-color:rgba(255,212,120,var(--tw-bg-opacity))}.burger-line.open[data-v-98ec6cc0]:after{transition:top .5s,transform .5s .5s}.mode-switch[data-v-45949fbc]{height:1.5rem;width:1.5rem}.mode-switch .sun[data-v-45949fbc]{display:inline-block;height:100%;width:100%;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(252,211,77,var(--tw-bg-opacity));box-shadow:0 0 4px 1px #ffd501}.mode-switch .moon[data-v-45949fbc]{height:100%;width:100%;--tw-text-opacity:1;color:rgba(229,231,235,var(--tw-text-opacity))}section[data-v-9e69a54e]{position:fixed;left:0;top:15%;display:none;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:14rem;--tw-bg-opacity:1;background-color:rgba(250,250,250,var(--tw-bg-opacity));padding-top:1.25rem;padding-bottom:1.25rem;padding-left:2rem;padding-right:2rem}.dark section[data-v-9e69a54e]{--tw-bg-opacity:1;background-color:rgba(30,31,37,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}@media (min-width:1280px){section[data-v-9e69a54e]{display:block}}@media (min-width:1536px){section[data-v-9e69a54e]{width:18rem}}section[data-v-9e69a54e]{transform:translateX(-95%);transition:all 1.5s ease-in-out}section.show[data-v-9e69a54e]{transform:translateX(0)}section li[data-v-9e69a54e]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-left:.75rem;padding-top:.25rem;font-size:13px}section a[data-v-9e69a54e]:hover{--tw-text-opacity:1;color:rgba(146,199,163,var(--tw-text-opacity))}section .title[data-v-9e69a54e]{margin-bottom:.5rem;padding-left:0;font-size:.875rem;line-height:1.25rem;font-weight:700}section .toc-tab[data-v-9e69a54e]{position:absolute;top:0;right:-28px;display:flex;height:1.75rem;width:1.75rem;cursor:pointer;align-items:center;justify-content:center;border-top-right-radius:9999px;border-bottom-right-radius:9999px;--tw-bg-opacity:1;background-color:rgba(250,250,250,var(--tw-bg-opacity))}.dark section .toc-tab[data-v-9e69a54e]{--tw-bg-opacity:1;background-color:rgba(30,31,37,var(--tw-bg-opacity))}.markdown li>code,.markdown p>code{padding:.125rem .25rem;color:#6b7280;background-color:#f3f4f6;border-radius:.375rem}.markdown .danger,.markdown .info,.markdown .success,.markdown .warning,.markdown blockquote{margin:1rem 0;padding:.5rem 1rem;border-left:4px solid;border-radius:.25rem}.markdown{max-width:48rem;font-size:.875rem;line-height:1.25rem;line-height:1.625}@media (min-width:1536px){.markdown{max-width:56rem}}.markdown h1{margin-top:1.5rem;margin-bottom:2.5rem;text-align:center;--tw-text-opacity:1;color:rgba(33,90,109,var(--tw-text-opacity))}.dark .markdown h1{--tw-text-opacity:1;color:rgba(252,252,252,var(--tw-text-opacity))}.markdown h2{position:relative;margin-top:4rem;margin-bottom:1rem}.markdown h2:before{position:absolute;left:-16px;--tw-text-opacity:1;color:rgba(146,199,163,var(--tw-text-opacity));content:"Â»"}.markdown h2 a{--tw-text-opacity:1;color:rgba(44,57,68,var(--tw-text-opacity))}.dark .markdown h2 a{--tw-text-opacity:1;color:rgba(209,213,218,var(--tw-text-opacity))}.markdown h3{margin-top:1.5rem;font-size:16px}.markdown h6{display:none}.markdown a{--tw-text-opacity:1;color:rgba(111,168,129,var(--tw-text-opacity))}.markdown a:hover{border-bottom-width:1px;--tw-border-opacity:1;border-color:rgba(146,199,163,var(--tw-border-opacity))}.markdown img{margin-top:1rem;margin-bottom:1rem}.markdown pre{margin-top:1rem;margin-bottom:1rem;white-space:pre-wrap;word-break:break-all;border-radius:.25rem;padding:1rem}@media (min-width:768px){.markdown pre{overflow-wrap:break-word}}.markdown summary{outline:2px solid transparent;outline-offset:2px}.markdown p{margin-top:.75rem;margin-bottom:.75rem;line-height:1.5rem}.markdown li{list-style-position:inside;list-style-type:disc;padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem}.markdown li p{display:inline}.markdown li>ul>li{list-style-type:circle}.markdown table{border-width:2px;--tw-border-opacity:1;border-color:rgba(209,213,219,var(--tw-border-opacity))}.markdown table td>:not([hidden])~:not([hidden]),.markdown table tr>:not([hidden])~:not([hidden]){--tw-divide-x-reverse:0;border-right-width:calc(2px * var(--tw-divide-x-reverse));border-left-width:calc(2px * calc(1 - var(--tw-divide-x-reverse)));--tw-divide-opacity:1;border-color:rgba(209,213,219,var(--tw-divide-opacity))}.markdown table td,.markdown table tr{padding-left:.5rem;padding-right:.5rem;padding-top:.25rem;padding-bottom:.25rem}.markdown table tr:nth-child(even){--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity))}.dark .markdown table tr:nth-child(even){--tw-bg-opacity:0.2}.markdown table thead{border-bottom-width:2px;--tw-border-opacity:1;border-color:rgba(209,213,219,var(--tw-border-opacity))}.markdown table tbody>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(2px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(2px * var(--tw-divide-y-reverse));--tw-divide-opacity:1;border-color:rgba(209,213,219,var(--tw-divide-opacity))}.markdown blockquote{--tw-border-opacity:1;border-color:rgba(102,102,102,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(238,238,238,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(106,114,128,var(--tw-text-opacity))}.dark .markdown blockquote{--tw-bg-opacity:0.8}.markdown .success{--tw-border-opacity:1;border-color:rgba(127,141,124,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(202,217,192,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(51,105,30,var(--tw-text-opacity))}.dark .markdown .success{--tw-bg-opacity:0.9}.markdown .info{--tw-border-opacity:1;border-color:rgba(79,114,138,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(200,218,233,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(83,100,131,var(--tw-text-opacity))}.dark .markdown .info{--tw-bg-opacity:0.9}.markdown .warning{--tw-border-opacity:1;border-color:rgba(211,174,91,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(248,240,210,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(147,115,47,var(--tw-text-opacity))}.dark .markdown .warning{--tw-bg-opacity:0.9}.markdown .danger{--tw-border-opacity:1;border-color:rgba(213,157,164,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(241,222,223,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(164,74,67,var(--tw-text-opacity))}.dark .markdown .danger{--tw-bg-opacity:0.9}.markdown .spoiler{border-radius:.25rem;border-width:1px;border-style:dashed;padding:.5rem}.info[data-v-000d1de0]{display:flex;align-items:center;font-size:.875rem;line-height:1.25rem;font-weight:700;--tw-text-opacity:1;color:rgba(75,85,99,var(--tw-text-opacity))}.dark .info[data-v-000d1de0]{--tw-text-opacity:1;color:rgba(249,250,251,var(--tw-text-opacity))}.info-item[data-v-000d1de0]{display:flex;align-items:center}.info-link[data-v-000d1de0]{text-transform:uppercase}.info-link[data-v-000d1de0]:hover{--tw-text-opacity:1;color:rgba(111,168,129,var(--tw-text-opacity))}.info-icon[data-v-000d1de0]{display:inline-block;height:1rem;width:1rem;--tw-text-opacity:1;color:rgba(156,163,175,var(--tw-text-opacity))}.tag[data-v-66ee7d80]{margin:.25rem;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem;padding-top:.25rem;padding-bottom:.25rem;font-size:.75rem;line-height:1rem;letter-spacing:.025em;--tw-text-opacity:1;color:rgba(107,114,128,var(--tw-text-opacity))}.dark .tag[data-v-66ee7d80]{--tw-bg-opacity:1;background-color:rgba(55,65,81,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(249,250,251,var(--tw-text-opacity))}footer[data-v-301919f7]{display:flex;align-items:center;justify-content:center;padding-top:1rem;padding-bottom:1rem}</style><link rel="preload" href="/_nuxt/static/1638916314/dev/React/react-hooks-first/state.js" as="script"><link rel="preload" href="/_nuxt/static/1638916314/dev/React/react-hooks-first/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1638916314/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="app"><header data-v-98ec6cc0><div class="logo" data-v-98ec6cc0><h1 data-v-98ec6cc0><a href="/" class="nuxt-link-active" data-v-98ec6cc0>Jennie DEV</a></h1></div> <nav data-v-98ec6cc0><ul class="nav-pc" data-v-98ec6cc0><li class="active" data-v-98ec6cc0><a href="/dev" class="nuxt-link-active" data-v-98ec6cc0>Dev</a></li><li data-v-98ec6cc0><a href="/life" data-v-98ec6cc0>Life</a></li><li data-v-98ec6cc0><a href="/" class="nuxt-link-active" data-v-98ec6cc0>About</a></li> <div class="mode-switch ml-1" data-v-45949fbc data-v-98ec6cc0><svg xmlns="http://www.w3.org/2000/svg" class="moon icon sprite-icons" style="display:none" data-v-45949fbc data-v-45949fbc><use href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-moon" xlink:href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-moon" data-v-45949fbc data-v-45949fbc></use></svg> <span class="sun" data-v-45949fbc></span></div></ul> <ul class="nav-mb" style="display:none" data-v-98ec6cc0 data-v-98ec6cc0><li class="logo logo-mb" data-v-98ec6cc0><a href="/" class="nuxt-link-active" data-v-98ec6cc0>Jennie DEV</a> <div class="mode-switch ml-2" data-v-45949fbc data-v-98ec6cc0><svg xmlns="http://www.w3.org/2000/svg" class="moon icon sprite-icons" style="display:none" data-v-45949fbc data-v-45949fbc><use href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-moon" xlink:href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-moon" data-v-45949fbc data-v-45949fbc></use></svg> <span class="sun" data-v-45949fbc></span></div></li> <li class="active" data-v-98ec6cc0><a href="/dev" class="nuxt-link-active" data-v-98ec6cc0>
            Dev
          </a></li><li data-v-98ec6cc0><a href="/life" data-v-98ec6cc0>
            Life
          </a></li><li data-v-98ec6cc0><a href="/" class="nuxt-link-active" data-v-98ec6cc0>
            About
          </a></li></ul> <div class="burger-icon" data-v-98ec6cc0><div class="burger-line" data-v-98ec6cc0></div></div></nav></header> <main class="flex mx-auto container" data-v-0237b367><section class="show" data-v-9e69a54e data-v-0237b367><ul data-v-9e69a54e><li class="title" data-v-9e69a54e><a href="#[Note] React Hooks æ•´ç†" title="[Note] React Hooks æ•´ç†" data-v-9e69a54e>[Note] React Hooks æ•´ç†</a></li> <li data-v-9e69a54e><a href="#Why Hook?" title="Why Hook?" data-v-9e69a54e>Why Hook?</a></li><li data-v-9e69a54e><a href="#Hook é€šç”¨è¦å‰‡" title="Hook é€šç”¨è¦å‰‡" data-v-9e69a54e>Hook é€šç”¨è¦å‰‡</a></li><li data-v-9e69a54e><a href="#useState" title="useState" data-v-9e69a54e>useState</a></li><li data-v-9e69a54e><a href="#useEffect" title="useEffect" data-v-9e69a54e>useEffect</a></li><li data-v-9e69a54e><a href="#useLayoutEffect" title="useLayoutEffect" data-v-9e69a54e>useLayoutEffect</a></li><li data-v-9e69a54e><a href="#useMemo" title="useMemo" data-v-9e69a54e>useMemo</a></li><li data-v-9e69a54e><a href="#useCallback" title="useCallback" data-v-9e69a54e>useCallback</a></li><li data-v-9e69a54e><a href="#useRef" title="useRef" data-v-9e69a54e>useRef</a></li><li data-v-9e69a54e><a href="#useContext" title="useContext" data-v-9e69a54e>useContext</a></li><li data-v-9e69a54e><a href="#useReducer" title="useReducer" data-v-9e69a54e>useReducer</a></li><li data-v-9e69a54e><a href="#åƒè€ƒè³‡æ–™" title="åƒè€ƒè³‡æ–™" data-v-9e69a54e>åƒè€ƒè³‡æ–™</a></li></ul> <div class="toc-tab" data-v-9e69a54e><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 icon sprite-icons" data-v-9e69a54e data-v-9e69a54e><use href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-menu" xlink:href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-menu" data-v-9e69a54e data-v-9e69a54e></use></svg></div></section> <article class="mx-auto px-8 py-6 xl:px-16 dark:bg-dark-black" data-v-000d1de0 data-v-0237b367><div class="info" data-v-000d1de0><a href="/dev/React" title="Back to React" class="info-item info-link nuxt-link-active" data-v-000d1de0><svg xmlns="http://www.w3.org/2000/svg" class="info-icon mr-2 icon sprite-icons" data-v-000d1de0><use href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-folder-open" xlink:href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-folder-open" data-v-000d1de0></use></svg>
      React
    </a> <div class="info-item mx-8" data-v-000d1de0><svg xmlns="http://www.w3.org/2000/svg" class="info-icon mr-2 icon sprite-icons" data-v-000d1de0 data-v-000d1de0><use href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-calendar" xlink:href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-calendar" data-v-000d1de0 data-v-000d1de0></use></svg>
      08 Dec 2021
    </div></div> <div class="markdown" data-v-000d1de0><h6>tags: <code>React</code>ã€<code>React Hooks</code></h6>
<h1 id="[Note] React Hooks æ•´ç†" title="[Note] React Hooks æ•´ç†">[Note] React Hooks æ•´ç†</h1>
<p>æœ€è¿‘é–‹å§‹å­¸ç¿’ React Hooksï¼Œè¶é€™æ¬¡æ©Ÿæœƒæ•´ç†å¸¸è¦‹çš„ Hooksï¼Œç›®å‰å°šç¼ºå…©å€‹é¡å¤– Hooks æ•´ç† (<a href="https://zh-hant.reactjs.org/docs/hooks-reference.html#useimperativehandle" target="_blank" rel="noreferrer noopener"><code>useImperativeHandle</code></a> & <a href="https://zh-hant.reactjs.org/docs/hooks-reference.html#usedebugvalue" target="_blank" rel="noreferrer noopener"><code>useDebugValue</code></a>)ï¼Œå…§å®¹æ…¢æ…¢å¢åŠ ä¸­ ğŸƒ</p>
<h2 id="Why Hook?" title="Why Hook?"><a href="#Why Hook?">Why Hook?</a></h2>
<ul>
<li>æ›´æ–¹ä¾¿åœ¨ component ä¹‹é–“å…±ç”¨ stateful çš„é‚è¼¯</li>
<li>è§£æ±º lifecycle æ–¹æ³•å¸¸å¸¸å°‡ä¸ç›¸é—œçš„é‚è¼¯æ··åˆåœ¨ä¸€èµ· e.g. event listener å’ŒæŠ“å–è³‡æ–™è¨­ç½®åœ¨åŒå€‹ <code>componentDidMount</code></li>
<li>é™ä½åˆå­¸è€…å­¸ç¿’é–€æª»ï¼Œclass éœ€è¦è¨˜å¾—ç¶å®šå’Œäº‹å…ˆäº†è§£ <code>this</code> åœ¨ JavaScript ä¸­å¦‚ä½•é‹ä½œ</li>
</ul>
<h2 id="Hook é€šç”¨è¦å‰‡" title="Hook é€šç”¨è¦å‰‡"><a href="#Hook é€šç”¨è¦å‰‡">Hook é€šç”¨è¦å‰‡</a></h2>
<ul>
<li>åªåœ¨ <strong>React function componen</strong>t æˆ–<strong>è‡ªå®šç¾©çš„ Hook</strong> å‘¼å« Hook</li>
<li>åªåœ¨<strong>æœ€ä¸Šå±¤</strong>å‘¼å« Hookï¼šä¸è¦åœ¨è¿´åœˆã€åˆ¤æ–·å¼ã€æˆ–æ˜¯åµŒå¥— function ä¸­å‘¼å« Hook</li>
</ul>
<pre class="hljs"><code><span class="hljs-comment">// ğŸš«ï¼š ä¸èƒ½æ”¾å…¥æ¢ä»¶å¼è£¡é¢</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>></span>React<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>></span></span>
  );
};
</code></pre>
<h2 id="useState" title="useState"><a href="#useState">useState</a></h2>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<pre class="hljs"><code><span class="hljs-comment">// èªæ³•ï¼š const [state, setState] = useState(åˆå§‹å€¼)</span>

<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
</code></pre>
<h3>é‡é»</h3>
<ul>
<li>ä½¿ç”¨é™£åˆ—è§£æ§‹è³¦å€¼ï¼Œå›å‚³çš„ç¬¬ä¸€å€‹å€¼ <code>count</code> ç‚ºç•¶å‰çš„ stateï¼Œç¬¬äºŒå€‹å€¼ <code>setCount</code> ç‚ºå¯æ›´æ–° state çš„æ–¹æ³•</li>
<li><code>setState</code> å¯ç›´æ¥å‚³å€¼ï¼Œä¹Ÿå¯ä»¥å‚³å…¥ function</li>
</ul>
<pre class="hljs"><code><span class="hljs-comment">// å…©ç¨®å¯«æ³•éƒ½æœ‰ç›¸åŒæ•ˆæœï¼Œä¸€æ¨£éƒ½æœƒ +1</span>

<span class="hljs-comment">// å¯«æ³•ä¸€ï¼šç›´æ¥å‚³å€¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">increase</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);
 };

<span class="hljs-comment">// å¯«æ³•äºŒï¼š function å¯æ‹¿åˆ° previous value</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">increase</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function">(<span class="hljs-params">prevCount</span>)=></span> prevCount + <span class="hljs-number">1</span>);
};
</code></pre>
<details class="spoiler"><summary>è£œå……</summary>
<div class="info">
<p><strong>ğŸ’¡ <code>setState</code> ä½¿ç”¨ function æ™‚æ©Ÿï¼š<br>
å¦‚æœæ˜¯æœ‰ä½¿ç”¨åˆ° <code>previous value</code> ä¾†è¨­ç½®æ–°çš„ <code>value</code> æˆ–å½¼æ­¤é–“æœ‰ä¾è³´é—œä¿‚ã€‚</strong></p>
<p>é›–ç„¶ä¸Šé¢å…©å€‹å¯«æ³•éƒ½å¯é”åˆ° <strong>+1</strong>ï¼Œä½†åœ¨ä¸‹é¢çš„ä¾‹å­å°±ä¸é©åˆç›´æ¥å‚³å€¼ï¼š</p>
<p><code>increase</code> å…§å‘¼å«å…©æ¬¡ <code>setCount</code>ï¼Œç•¶ <code>increase</code> è¢«è§¸ç™¼å¾Œï¼Œæˆ‘å€‘é æœŸ <code>count</code> æœƒç­‰æ–¼ 2ï¼Œä½†å¯¦éš›å¾—åˆ° <strong>1</strong>ã€‚</p>
<p>å› ç‚º <code>setCount(count + 1)</code>ï¼Œè£¡é¢çš„ <code>count</code> éƒ½é‚„æ˜¯ç•¶å‰ render å€¼ <strong>0</strong>ï¼Œæ‰€ä»¥ç­‰æ–¼åŸ·è¡Œå…©æ¬¡ <code>setCount(0 + 1)</code>ã€‚</p>
<pre class="hljs"><code><span class="hljs-keyword">const</span> <span class="hljs-title function_">Count</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// é æœŸç‚º 2ï¼Œä½†å¯¦éš›å¾—åˆ° 1</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">increase</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// æ­¤æ™‚ count ç‚º 0ï¼Œç›¸ç•¶æ–¼ setCount(0 + 1)</span>
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// æ­¤æ™‚ count ç‚º 0ï¼Œç›¸ç•¶æ–¼ setCount(0 + 1)</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>></span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increase}</span>></span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
    <span class="hljs-tag">&lt;/></span></span>
  );
};

</code></pre>
<p>é€™æ™‚æ”¹ç”¨ function å¯«æ³•ï¼Œ ç¢ºä¿æ˜¯ä½¿ç”¨ <code>count</code> çš„ <code>previous value</code> è€Œä¸æ˜¯ç•¶å‰ render å¾Œçš„å€¼ï¼Œå°±æœƒå¦‚é æœŸå¾—åˆ° <strong>2</strong> :</p>
<pre class="hljs"><code><span class="hljs-keyword">const</span> <span class="hljs-title function_">Count</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">increase</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prevCount</span> =></span> prevCount + <span class="hljs-number">1</span>); <span class="hljs-comment">// ç›¸ç•¶æ–¼ setCount(0 + 1)</span>
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prevCount</span> =></span> prevCount + <span class="hljs-number">1</span>); <span class="hljs-comment">// ç›¸ç•¶æ–¼ setCount(1 + 1)</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>></span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increase}</span>></span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
    <span class="hljs-tag">&lt;/></span></span>
  );
};
</code></pre>
</div>
</details>
<br>
<ul>
<li>åˆå§‹å€¼æœ‰å…©ç¨®è¡¨ç¤ºæ–¹å¼ï¼Œå¯ç›´æ¥å‚³å…¥å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨ function</li>
</ul>
<details class="spoiler"><summary>è£œå……</summary>
<div class="info">
<p>ğŸ’¡ <strong>åˆå§‹å€¼ä½¿ç”¨ function å¯«æ³•çš„æ™‚æ©Ÿï¼š</strong></p>
<p>å› ç‚ºæ¯æ¬¡ render æ™‚å€™éƒ½æœƒé‡æ–°åŸ·è¡Œ <code>useSate</code>ï¼Œå¦‚æœ<strong>åˆå§‹å€¼æ˜¯éœ€è¦éå¸¸è¤‡é›œè¨ˆç®—æ™‚</strong>ï¼Œæ¯æ¬¡æ›´æ–°éœ€è¦é‡æ–°è¨ˆç®—ï¼Œå°±æœƒé™ä½æ•ˆèƒ½ï¼Œé€™æ™‚å°±éœ€è¦å‚³å…¥ functionï¼Œ<strong>è©² function åªæœƒåœ¨åˆå§‹ render æ™‚è¢«èª¿ç”¨</strong>ã€‚</p>
<pre class="hljs"><code><span class="hljs-comment">// ç›´æ¥å‚³å€¼ï¼š</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">complexCompute</span> = (<span class="hljs-params"></span>) => {
 <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"execution"</span>);
 <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Count</span> = (<span class="hljs-params"></span>) => {
 <span class="hljs-comment">// æ¯æ¬¡æŒ‰ +1 æ™‚ï¼Œéƒ½æœƒå°å‡º â€˜executionâ€™</span>
 <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-title function_">complexCompute</span>());

 <span class="hljs-keyword">const</span> <span class="hljs-title function_">increase</span> = (<span class="hljs-params"></span>) => {
   <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">preCount</span> =></span> preCount + <span class="hljs-number">1</span>);
 };

 <span class="hljs-keyword">return</span> (
   <span class="language-xml"><span class="hljs-tag">&lt;></span>
     <span class="hljs-tag">&lt;<span class="hljs-name">span</span>></span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
     <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increase}</span>></span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
   <span class="hljs-tag">&lt;/></span></span>
 );
};
</code></pre>
<pre class="hljs"><code><span class="hljs-comment">// æ”¹ç”¨ function</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Count</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-comment">// é¦–æ¬¡æ¸²æŸ“å°å‡º â€˜executionâ€™ï¼Œå¾ŒçºŒæŒ‰ +1 æ™‚ï¼Œä¸æœƒåœ¨å°å‡ºå­—äº†</span>
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =></span> <span class="hljs-title function_">complexCompute</span>());

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">increase</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">preCount</span> =></span> preCount + <span class="hljs-number">1</span>);
  };

    ...
}
</code></pre>
</div>
</details>
<br>
<ul>
<li><code>setState</code> æ˜¯å®Œå…¨è¦†è“‹ stateï¼Œè€Œé merge</li>
</ul>
<pre class="hljs"><code><span class="hljs-comment">// ç›´æ¥æ•´å€‹è¦†å¯« fruitDate</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Fruit</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [fruitDate, setFruitDate] = <span class="hljs-title function_">useState</span>({ <span class="hljs-attr">amount</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">fruit</span>: <span class="hljs-string">"banana"</span> });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">change</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-title function_">setFruitDate</span>({ <span class="hljs-attr">fruit</span>: <span class="hljs-string">"apple"</span> }); <span class="hljs-comment">// è§¸ç™¼å¾Œï¼ŒfruitDate ç‚º { fruit: "apple" }</span>
  };

  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{change}</span>></span>change fruit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span></span>
};
</code></pre>
<pre class="hljs"><code><span class="hljs-comment">// ä½¿ç”¨æ“´å±•é‹ç®—å­ï¼Œä¿ç•™ç‰©ä»¶å…§å…¶ä»–å±¬æ€§</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Fruit</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [fruitDate, setFruitDate] = <span class="hljs-title function_">useState</span>({ <span class="hljs-attr">amount</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">fruit</span>: <span class="hljs-string">"banana"</span> });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">change</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-title function_">setFruitDate</span>({ ...fruitData, <span class="hljs-attr">fruit</span>: <span class="hljs-string">"apple"</span> }); <span class="hljs-comment">// è§¸ç™¼å¾Œï¼ŒfruitDate ç‚º { amount: 1 fruit: "apple" }</span>
  };

  ...
};
</code></pre>
<h2 id="useEffect" title="useEffect"><a href="#useEffect">useEffect</a></h2>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<pre class="hljs"><code><span class="hljs-comment">// èªæ³•ï¼š useEffect(()=>{},[ä¾è³´é …])</span>

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// æ¯æ¬¡ç•«é¢é‡æ–°æ¸²æŸ“å¾Œéƒ½æœƒåŸ·è¡Œ</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"executed"</span>)
});
</code></pre>
<h3>é‡é»</h3>
<ul>
<li>è™•ç† side effect äº‹ä»¶ï¼Œe.g. ajaxã€EventLister</li>
<li>DOM æ”¹è®Š => æ¸²æŸ“ç•«é¢ => èª¿ç”¨ <code>useEffect</code></li>
<li>å¯ä»¥æœ‰å¤šå€‹ä¾è³´é …ï¼Œçš†æ”¾åœ¨é™£åˆ—ä¸­ <code>useEffect(()=>{ ... },[a, b, c])</code></li>
<li>æ­é…ç¬¬äºŒåƒæ•¸å‚³å…¥ä¾è³´å’Œ return functionï¼Œå¯é”åˆ°åŸå…ˆ React ç”Ÿå‘½é€±æœŸ <code>componentDidMount</code>ã€<code>componentDidUpdate</code> å’Œ <code>componentWillUnmount</code> çš„æ•ˆæœ</li>
</ul>
<pre class="hljs"><code><span class="hljs-keyword">const</span> <span class="hljs-title function_">Fruit</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [fruit, setFruit] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">"banana"</span>);
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// A. ç¬¬äºŒåƒæ•¸ä¸å¸¶å…¥ï¼Œæ¯æ¬¡ç•«é¢é‡æ–°æ¸²æŸ“ï¼Œéƒ½æœƒåŸ·è¡Œ</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// ç•¶ fruit æˆ– count å€¼æ”¹è®Šï¼Œç•«é¢é‡æ–°æ¸²æŸ“ï¼Œéƒ½æœƒå°å‡º â€œchangedâ€</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"changed"</span>);
  });


  <span class="hljs-comment">// B. ç¬¬äºŒåƒæ•¸ï¼Œå‚³å…¥ç©ºé™£åˆ— []ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“æ™‚åŸ·è¡Œ</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// åªåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“æœƒå°å‡º "init"</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"init"</span>);
  }, []);


  <span class="hljs-comment">// C. ç¬¬äºŒåƒæ•¸ï¼Œå‚³å…¥ä¾è³´é …ï¼Œåªæœ‰åœ¨ä¾è³´é …æ”¹è®Šæ™‚æ‰åŸ·è¡Œ</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// åªæœ‰ count å€¼æ”¹è®Šï¼Œç•«é¢æ›´æ–°ï¼Œæ‰æœƒå°å‡º "count changed"</span>
    <span class="hljs-comment">// å¦‚æœæ˜¯ fruit å€¼æ”¹è®Šå‰‡ä¸è§¸ç™¼</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"count changed"</span>);
  }, [count]);


  <span class="hljs-comment">// D. return çš„ function æœƒåœ¨çµ„ä»¶ç§»é™¤å¾Œæœƒè§¸ç™¼</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// åˆæ¬¡æ¸²æŸ“æ™‚ï¼Œå»ºç«‹ setInterval</span>
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =></span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"hello world"</span>);
    }, <span class="hljs-number">1000</span>);

    <span class="hljs-comment">// åœ¨çµ„ä»¶ç§»é™¤å¾ŒæœƒåŸ·è¡Œ clearInterval</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =></span> <span class="hljs-built_in">clearInterval</span>(timer);
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> setFruit("apple")}>change fruit - {fruit}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> setCount(prev => prev + 1)}>increase count - {count}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>;
    <span class="hljs-tag">&lt;/></span></span>
  );
};
</code></pre>
<h2 id="useLayoutEffect" title="useLayoutEffect"><a href="#useLayoutEffect">useLayoutEffect</a></h2>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<pre class="hljs"><code><span class="hljs-comment">// èªæ³•ï¼š useLayoutEffect(()=>{},[ä¾è³´é …])</span>

<span class="hljs-title function_">useLayoutEffect</span>(<span class="hljs-function">() =></span> {
     <span class="hljs-comment">// æ¯æ¬¡ç•«é¢é‡æ–°æ¸²æŸ“å‰éƒ½æœƒåŸ·è¡Œ</span>
     <span class="hljs-comment">// å° DOM æ“ä½œ ....</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"executed"</span>)
});
</code></pre>
<h3>é‡é»</h3>
<ul>
<li>DOM æ”¹è®Š => èª¿ç”¨ <code>useLayoutEffect</code> => æ¸²æŸ“ç•«é¢</li>
<li>è¬¹æ…ä½¿ç”¨ï¼Œæœƒå½±éŸ¿ä½¿ç”¨è€…é«”é©—ï¼Œå› ç‚ºéœ€è¦ç­‰å¾… <code>useLayoutEffect</code> å…§ç¨‹å¼å¯¦è¡Œå®Œï¼Œæ‰æœƒæ¸²æŸ“å‡ºç•«é¢</li>
<li>ä½¿ç”¨æ™‚æ©Ÿï¼šéœ€è¦åŸºæ–¼ DOM çš„ Layout åšé¡å¤–æ“ä½œ e.g. æ¸¬é‡ DOM</li>
</ul>
<h3>ç¯„ä¾‹ (useEffect v.s. useLayoutEffect)</h3>
<h4>- ä½¿ç”¨ useEffect</h4>
<p>åœ¨æ…¢å‹•ä½œçš„ gif è£¡é¢å¯ä»¥çœ‹åˆ°ä¸€é–‹å§‹çš„ <code>hi</code> (<code>top: 0</code>) å…ˆå‡ºç¾åœ¨æŒ‰éˆ•æ—é‚Šï¼Œåœ¨ä¸‹ä¸€å€‹ç•«é¢æ‰å¥—ç”¨ <code>top: 100px</code>ï¼Œå¦‚æœç”¨æ­£å¸¸é€Ÿåº¦çœ‹ï¼Œå°±æœƒçœ‹åˆ°ç¬¬ä¸€å€‹ hi æœƒé–ƒçˆä¸€ä¸‹ï¼Œé€™å°ä½¿ç”¨è€…é«”é©—å¾ˆä¸å¥½ã€‚</p>
<pre class="hljs"><code><span class="hljs-comment">// ä½¿ç”¨ useEffect</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Foo</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [show, setShow] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> greetRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-keyword">if</span> (greetRef.<span class="hljs-property">current</span> === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;

    (greetRef.<span class="hljs-property">current</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLSpanElement</span>).<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">"100px"</span>;
  }, [show]);

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> setShow(prev => !prev)}> toggle Button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
      {show && (
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{greetRef}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">position:</span> "<span class="hljs-attr">absolute</span>" }}></span>
          hi
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
      )}
    <span class="hljs-tag">&lt;/></span></span>
  );
};
</code></pre>
<p><img src="https://i.imgur.com/gGzLETq.gif" alt="useEffect"></p>
<h4>- ä½¿ç”¨ useLayoutEffect</h4>
<p>å› ç‚ºåœ¨æ¸²æŸ“ç•«é¢å‰ï¼Œå…ˆåŸ·è¡Œå®Œå¥½ <code>hi</code> çš„ <code>top: 100px</code>ï¼Œæ‰€ä»¥åœ¨çœ‹åˆ°ç•«é¢æ™‚ï¼Œå·²ç¶“æ‰€è¨­å®šçš„ä½ç½®ä¸Šäº†ã€‚</p>
<pre class="hljs"><code><span class="hljs-comment">// ä½¿ç”¨ useLayoutEffect</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Foo</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [show, setShow] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> greetRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useLayoutEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-keyword">if</span> (greetRef.<span class="hljs-property">current</span> === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;

    (greetRef.<span class="hljs-property">current</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLSpanElement</span>).<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">"100px"</span>;
  }, [show]);

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> setShow(prev => !prev)}> toggle Button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
      {show && (
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{greetRef}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">position:</span> "<span class="hljs-attr">absolute</span>" }}></span>
          hi
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
      )}
    <span class="hljs-tag">&lt;/></span></span>
  );
};
</code></pre>
<p><img src="https://i.imgur.com/k5IHSoW.gif" alt="useLayoutEffect"></p>
<h2 id="useMemo" title="useMemo"><a href="#useMemo">useMemo</a></h2>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<pre class="hljs"><code><span class="hljs-comment">// èªæ³•ï¼š const data = useMemo(()=>{ return å€¼ },[ä¾è³´é …])</span>

<span class="hljs-keyword">const</span> memoizedValue = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =></span> <span class="hljs-title function_">computeExpensiveValue</span>(a, b), [a, b]);
</code></pre>
<ul>
<li>å¯ä»¥å°‡<strong>å‡½å¼è¿”å›å€¼ cached</strong>ï¼ˆè·Ÿ Vue çš„ computed å¾ˆåƒ)ï¼Œä¸¦å›å‚³ä¸€å€‹ <a href="https://en.wikipedia.org/wiki/Memoization" target="_blank" rel="noreferrer noopener">memoized</a> çš„å€¼</li>
<li>useMemo çš„ function æœƒåœ¨ render æœŸé–“åŸ·è¡Œ</li>
<li>å¯å‚³å…¥ä¾è³´ arrayï¼Œç•¶ä¾è³´æ”¹è®Šæ™‚æ‰é‡æ–°è¨ˆç®—ï¼Œä¸æä¾›å‰‡æ¯æ¬¡éƒ½è¨ˆç®—</li>
<li>éœ€é¡å¤–è¨˜æ†¶é«”å„²å­˜è®Šæ•¸ï¼Œç›¸ç•¶æ–¼ä»¥ç©ºé–“æ›æ™‚é–“ï¼Œæ‰€ä»¥ç°¡å–®çš„è¨ˆç®— / å€¼ï¼Œè¦é¿å…æ¿«ç”¨</li>
<li>ä½¿ç”¨æƒ…å¢ƒï¼šç•¶å€¼éœ€è¦æ˜‚è²´è¨ˆç®—å¾—åˆ°ï¼Œä½†ä¸éœ€è¦æ¯æ¬¡ render éƒ½é€²è¡Œé‡æ–°è¨ˆç®—ï¼Œå¯ä½¿ç”¨ useMemo ä¾†å„ªåŒ–</li>
</ul>
<h3>ç¯„ä¾‹</h3>
<p>ç”±æ–¼æ¯æ¬¡ç•«é¢æ›´æ–°æ¸²æŸ“éƒ½æœƒåŸ·è¡Œ <code>slowFunc</code>ï¼Œå³ä½¿æˆ‘å€‘åªæƒ³ toggle theme æ™‚ï¼Œé‚„æ˜¯è¦ç­‰å¾… for è¿´åœˆçµæŸï¼Œå°è‡´ dark theme çš„ç•«é¢æ›´æ–°æœƒæœ‰å»¶é²ã€‚</p>
<pre class="hljs"><code><span class="hljs-comment">// æ¨¡æ“¬è¤‡é›œè¨ˆç®—</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">slowFunc</span> = (<span class="hljs-params">num</span>) => {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">1000000000</span>; i++) {}
  <span class="hljs-keyword">return</span> num * <span class="hljs-number">2</span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Fruit</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [num, setNumber] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [dark, setDark] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> doubleNumber = <span class="hljs-title function_">slowFunc</span>(num); <span class="hljs-comment">// æ¯æ¬¡æ¸²æŸ“éƒ½æœƒåŸ·è¡Œ</span>
  <span class="hljs-keyword">const</span> theme = {
    <span class="hljs-attr">color</span>: dark ? <span class="hljs-string">"white"</span> : <span class="hljs-string">"black"</span>,
    <span class="hljs-attr">backgroundColor</span>: dark ? <span class="hljs-string">"black"</span> : <span class="hljs-string">"white"</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{num}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =></span> setNumber(parseInt(e.target.value))} />
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>></span>{doubleNumber}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> setDark(!dark)} style={theme}>
        toggle theme
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
    <span class="hljs-tag">&lt;/></span></span>
  );
};
</code></pre>
<p>ä½¿ç”¨ useMemo æ”¹å¯«ä¸¦æŒ‡å®šä¾è³´å¾Œï¼Œåœ¨ toggle theme å°±ä¸æœƒå†é€²å…¥ for è¿´åœˆï¼Œèƒ½åŠæ™‚è®Šæ›´é¡è‰²äº†</p>
<pre class="hljs"><code><span class="hljs-keyword">const</span> <span class="hljs-title function_">slowFunc</span> = (<span class="hljs-params">num</span>) => {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">1000000000</span>; i++) {}
  <span class="hljs-keyword">return</span> num * <span class="hljs-number">2</span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Fruit</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [num, setNumber] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> [dark, setDark] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-comment">// æŒ‡å®š num ç‚ºä¾è³´çš„å€¼ï¼Œåªæœ‰ num æ”¹è®Šå€¼ï¼Œæ‰å‘¼å« slowFunc</span>
  <span class="hljs-keyword">const</span> doubleNumber = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =></span> <span class="hljs-title function_">slowFunc</span>(num), [num]);
  <span class="hljs-keyword">const</span> theme = {
    <span class="hljs-attr">color</span>: dark ? <span class="hljs-string">"white"</span> : <span class="hljs-string">"black"</span>,
    <span class="hljs-attr">backgroundColor</span>: dark ? <span class="hljs-string">"black"</span> : <span class="hljs-string">"white"</span>
  };

  <span class="hljs-keyword">return</span> (...);
};
</code></pre>
<h2 id="useCallback" title="useCallback"><a href="#useCallback">useCallback</a></h2>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<pre class="hljs"><code><span class="hljs-comment">// èªæ³•ï¼š const cb = useCallback(callback, [ä¾è³´é …])</span>

<span class="hljs-keyword">const</span> memoizedCallback = <span class="hljs-title function_">useCallback</span>(
  <span class="hljs-function">() =></span> {
    <span class="hljs-title function_">doSomething</span>(a, b);
  },
  [a, b],
);
</code></pre>
<ul>
<li>èˆ‡ <code>useMemo</code> æ¦‚å¿µå¤§è‡´ç›¸åŒï¼Œ<strong><code>useMemo</code></strong> å„²å­˜ function <strong>return å›ä¾†çš„å€¼</strong>ï¼Œ<strong><code>useCallback</code></strong> å„²å­˜<strong>æ•´å€‹ function</strong>ï¼Œ<code>useCallback(fn, deps)</code> ç›¸ç­‰æ–¼ <code>useMemo(() => fn, deps)</code></li>
<li>å¯å‚³å…¥ä¾è³´ arrayï¼Œç•¶ä¾è³´æ”¹è®Šæ™‚æ‰é‡æ–°å®£å‘Šè·Ÿå»ºç«‹ function</li>
<li>ä½¿ç”¨æƒ…å¢ƒï¼šç•¶å­çµ„ä»¶æœ‰ä¾è³´çˆ¶çµ„ä»¶å‚³é functionï¼Œçˆ¶çµ„ä»¶çš„ function å¯ä½¿ç”¨ <code>useCallback</code> å„ªåŒ–ï¼Œä¾†é˜²æ­¢ä¸å¿…è¦çš„ render</li>
</ul>
<h3>ç¯„ä¾‹</h3>
<p>ç•¶æ¯æ¬¡ Parent Component(<code>&lt;Foo></code>)çš„ <code>num</code> æˆ– <code>dark</code> å€¼è®Šå‹•æ™‚ï¼Œ ç•«é¢æœƒé‡æ–°æ¸²æŸ“ï¼Œ<code>&lt;Foo></code> å…§çš„ <code>getItems</code> ä¹Ÿè·Ÿè‘—è¢«é‡æ–°å®£å‘Šè·Ÿå»ºç«‹ï¼Œç­‰æ–¼ Child Component(<code>&lt;List></code>) æ¯æ¬¡æ¥æ”¶ä¸åŒçš„ <code>getItems</code>ï¼Œä¹Ÿè·Ÿè‘—é‡æ–°æ¸²æŸ“ï¼ˆå³ä½¿å€¼ä¸è®Šï¼Œåªæœ‰ <code>dark</code> è®Šå‹•çš„æƒ…å¢ƒï¼‰ã€‚</p>
<h4>- ä¸ä½¿ç”¨ useCallback</h4>
<pre class="hljs"><code><span class="hljs-comment">// Child Component</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">List</span> = (<span class="hljs-params">{ getItems }</span>) => {
  <span class="hljs-keyword">const</span> [items, setItems] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-title function_">setItems</span>(<span class="hljs-title function_">getItems</span>());
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"executed"</span>); <span class="hljs-comment">// num æˆ– dark å€¼è®Šå‹•æ™‚ï¼Œ&lt;List> éƒ½æœƒ rerenderï¼Œå°å‡º executed</span>
  }, [getItems]);

  <span class="hljs-keyword">return</span> items.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =></span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item}</span>></span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>);
};

<span class="hljs-comment">// Parent Component</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Foo</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [num, setNumber] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">const</span> [dark, setDark] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-comment">// ä¸€èˆ¬å®£å‘Šå‡½å¼</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getItems</span> = (<span class="hljs-params"></span>) => [num, num + <span class="hljs-number">1</span>, num + <span class="hljs-number">2</span>];

  <span class="hljs-keyword">const</span> theme = {
    <span class="hljs-attr">color</span>: dark ? <span class="hljs-string">"white"</span> : <span class="hljs-string">"black"</span>,
    <span class="hljs-attr">backgroundColor</span>: dark ? <span class="hljs-string">"black"</span> : <span class="hljs-string">"white"</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{num}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =></span> setNumber(parseInt(e.target.value))} />

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> setDark(prev => !prev)} style={theme}>
        toggle theme
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>

      <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">getItems</span>=<span class="hljs-string">{getItems}</span> /></span>
    <span class="hljs-tag">&lt;/></span></span>
  );
};
</code></pre>
<h4>- ä½¿ç”¨ useCallback</h4>
<p>ä½¿ç”¨ useCallbackï¼Œä¸¦å‚³å…¥ <code>num</code> ç•¶ä½œä¾è³´é …ï¼Œæ¥ä¸‹ä¾†ç•¶ <code>num</code> å€¼æ”¹è®Šæ™‚ï¼Œ<code>getItems</code> é€™å€‹ function æ‰æœƒé‡æ–°è¢«å»ºç«‹ã€‚</p>
<pre class="hljs"><code><span class="hljs-comment">// Child Component</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">List</span> = (<span class="hljs-params">{ getItems }: { getItems: () => number[] }</span>) => {
  <span class="hljs-keyword">const</span> [items, setItems] = useState&lt;number[]>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-title function_">setItems</span>(<span class="hljs-title function_">getItems</span>());
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"executed"</span>); <span class="hljs-comment">// åªæœ‰åœ¨ num å€¼è®Šå‹•æ™‚ï¼Œæ‰å°å‡º executed</span>
  }, [getItems]);

  <span class="hljs-keyword">return</span> items.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =></span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item}</span>></span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>);
};

<span class="hljs-comment">// Parent Component</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Foo</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [num, setNumber] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">const</span> [dark, setDark] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-comment">// ä½¿ç”¨ useCallback</span>
  <span class="hljs-keyword">const</span> getItems = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =></span> [num, num + <span class="hljs-number">1</span>, num + <span class="hljs-number">2</span>], [num]);

  <span class="hljs-keyword">const</span> theme = { ... };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{num}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =></span> setNumber(parseInt(e.target.value))} />

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> setDark(prev => !prev)} style={theme}>
        toggle theme
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>

      <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">getItems</span>=<span class="hljs-string">{getItems}</span> /></span>
    <span class="hljs-tag">&lt;/></span></span>
  );
};

</code></pre>
<h2 id="useRef" title="useRef"><a href="#useRef">useRef</a></h2>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<pre class="hljs"><code><span class="hljs-comment">// èªæ³•ï¼š const refContainer = useRef(åˆå§‹å€¼);</span>

<span class="hljs-keyword">const</span> refCount = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
</code></pre>
<h3>é‡é»</h3>
<ul>
<li>å›å‚³ä¸€å€‹ ref objectï¼Œç›¸ç•¶æ–¼ <code>{current: value}</code>ï¼Œæ¯æ¬¡ render æ™‚éƒ½æœƒå›å‚³<strong>åŒä¸€å€‹çš„ ref object</strong>ï¼Œåœ¨ component çš„ç”Ÿå‘½é€±æœŸå°‡ä¿æŒä¸è®Š</li>
<li><code>.current</code> å€¼æ”¹è®Šå¾Œï¼Œä¸æœƒè§¸ç™¼é‡æ–° render</li>
<li>ä½¿ç”¨æƒ…å¢ƒï¼š
<ul>
<li>å–å¾— dom</li>
<li>ç´€éŒ„å‰ä¸€æ¬¡ render çš„è³‡æ–™</li>
</ul>
</li>
</ul>
<h3>ç¯„ä¾‹</h3>
<h4>æƒ…å¢ƒä¸€ï¼šå–å¾— dom element</h4>
<pre class="hljs"><code><span class="hljs-comment">// é»é¸æŒ‰éˆ•å¾Œï¼Œinput æ¡†è¦ focus</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">TextBlock</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-comment">// step 1: å®£å‘Š inputEl ä¸¦ä½¿ç”¨ useRef</span>
  <span class="hljs-keyword">const</span> inputEl = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onButtonClick</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(inputEl.<span class="hljs-property">current</span>); <span class="hljs-comment">// &lt;input type="text"></span>
    inputEl.<span class="hljs-property">current</span>.<span class="hljs-title function_">focus</span>();
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      // step 2: ä½¿ç”¨ ref ç¶åœ¨æƒ³å–å¾—çš„ dom
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{inputEl}</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> /></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onButtonClick}</span>></span>Focus the input<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
    <span class="hljs-tag">&lt;/></span></span>
  );
};

</code></pre>
<br>
<h4>æƒ…å¢ƒäºŒï¼šç´€éŒ„å‰ä¸€æ¬¡ render çš„å€¼ e.g. æƒ³è¨ˆç®—å‡ºç¸½å…± render å¹¾æ¬¡</h4>
<ul>
<li>ä½¿ç”¨ useState ğŸš«</li>
</ul>
<pre class="hljs"><code><span class="hljs-comment">// éŒ¯èª¤ç¤ºç¯„(å°è‡´ç„¡çª®è¿´åœˆ)ï¼š ä½¿ç”¨ useState</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Name</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> [renderCount, setRenderCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// åœ¨ useEffect ä½¿ç”¨ setRenderCount æ›´æ–° renderCount</span>
    <span class="hljs-comment">// æœƒé€ æˆç„¡çª®å›åœˆï¼š update state => compoment rerender => update state again => compoment rerender again => ..... => infinite loop</span>
    <span class="hljs-title function_">setRenderCount</span>(<span class="hljs-function"><span class="hljs-params">prevCount</span> =></span> prevCount + <span class="hljs-number">1</span>);
  });

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =></span> setName(e.target.value)} />
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>></span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>></span>It has been rendered {renderCount} times<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&lt;/></span></span>
  );
};
</code></pre>
<ul>
<li>
<p>ä½¿ç”¨ useRef</p>
<p>åˆ©ç”¨ <code>.current</code> å€¼æ”¹è®Šå¾Œï¼Œ<strong>ä¸æœƒè§¸ç™¼é‡æ–° render</strong>ï¼Œé€™ä¸€å€‹ç‰¹é»ï¼Œä½¿ç”¨ <code>.current</code> å€¼ä¾†è¨˜éŒ„å’Œæ›´æ–°</p>
</li>
</ul>
<pre class="hljs"><code><span class="hljs-comment">// ä½¿ç”¨ useRef</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Name</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> renderCount = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// update state => compoment rerender => update renderCount.current</span>
    renderCount.<span class="hljs-property">current</span> += <span class="hljs-number">1</span>;
  },[name]);

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =></span> setName(e.target.value)} />
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>></span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>></span>It has been rendered {renderCount.current} times<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
    <span class="hljs-tag">&lt;/></span></span>
  );
};
</code></pre>
<p><img src="https://i.imgur.com/0XnVYcJ.gif" alt="useRef"></p>
<h2 id="useContext" title="useContext"><a href="#useContext">useContext</a></h2>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<pre class="hljs"><code><span class="hljs-comment">// èªæ³•ï¼š const value = useContext( è‡ªè¨‚çš„ Context );</span>

<span class="hljs-keyword">const</span> value = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">MyContext</span>);
</code></pre>
<h3>é‡é»</h3>
<ul>
<li>åœ¨ <code>MyContext</code> provider (<code>&lt;MyContext.Provider value={value}></code>)å…§çš„çµ„ä»¶ï¼Œéƒ½å¯ä»¥é€é <code>useContext</code> å–å¾— <code>MyContext</code> value å€¼</li>
<li>å¯ä»¥è·¨çµ„ä»¶å–å€¼ï¼Œè§£æ±ºéœ€è¦ç”¨ props ä¸€å±¤å±¤å‚³å€¼ä¸‹å»çš„å•é¡Œ<br>
(çµ„ä»¶ A â¡ï¸ çµ„ä»¶ B â¡ï¸ çµ„ä»¶ Cï¼ŒC éœ€è¦ A å‚³å…¥çš„ propsï¼Œä½† B å»ä¸éœ€è¦ A å‚³å…¥çš„ props)</li>
<li>å‘¼å« <code>useContext</code> çš„çµ„ä»¶æœƒåœ¨ context å€¼æ›´æ–°æ™‚é‡æ–°æ¸²æŸ“</li>
</ul>
<h3>ç¯„ä¾‹</h3>
<pre class="hljs"><code><span class="hljs-keyword">const</span> initDarkThemeStatus = <span class="hljs-literal">false</span>;
<span class="hljs-comment">// Step 1. å…ˆ createContext</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ThemeContext</span> = <span class="hljs-title function_">createContext</span>(initDarkThemeStatus);



<span class="hljs-comment">// Child Component</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Child</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-comment">// Step 3. åœ¨å­çµ„ä»¶ä½¿ç”¨ useContextï¼Œå–å¾— value</span>
  <span class="hljs-keyword">const</span> darkTheme = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">ThemeContext</span>);
  <span class="hljs-keyword">const</span> theme = {
    <span class="hljs-attr">color</span>: darkTheme ? <span class="hljs-string">"white"</span> : <span class="hljs-string">"black"</span>,
    <span class="hljs-attr">backgroundColor</span>: darkTheme ? <span class="hljs-string">"black"</span> : <span class="hljs-string">"white"</span>
  };

  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{theme}</span>></span>Child Component<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>;
};



<span class="hljs-comment">// Parent Component</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-keyword">const</span> [darkTheme, setDarkTheme] = <span class="hljs-title function_">useState</span>(initDarkThemeStatus);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleTheme</span> = (<span class="hljs-params"></span>) => {
    <span class="hljs-title function_">setDarkTheme</span>(<span class="hljs-function"><span class="hljs-params">prevDarkTheme</span> =></span> !prevDarkTheme);
  };

  <span class="hljs-keyword">return</span> (
      <span class="hljs-comment">// Step 2. åœ¨çˆ¶çµ„ä»¶ä½¿ç”¨ Providerï¼Œä¸¦å‚³å…¥ value</span>
     <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{darkTheme}</span>></span>
       <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{toggleTheme}</span>></span>Toggle Theme<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
       <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> /></span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>></span></span>
  );
};
</code></pre>
<h2 id="useReducer" title="useReducer"><a href="#useReducer">useReducer</a></h2>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<pre class="hljs"><code><span class="hljs-comment">// èªæ³•ï¼š const [state, dispatch] = useReducer(reducer, initialArg, init);</span>

<span class="hljs-keyword">const</span> [state, dispatch] = <span class="hljs-title function_">useReducer</span>(reducer, { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> });
</code></pre>
<h3>é‡é»</h3>
<ul>
<li>é€²éšç‰ˆçš„ <code>useState</code> (p.s. <a href="https://github.com/facebook/react/blob/5f06576f51ece88d846d01abd2ddd575827c6127/packages/react-reconciler/src/ReactFiberHooks.js#L336" target="_blank" rel="noreferrer noopener"><code>useState</code></a> åº•å±¤æ˜¯ç”¨ <code>useReducer</code> å¯¦ç¾)</li>
<li><code>dispatch => reducer => state</code>ï¼Œé›†ä¸­åœ¨ <code>reducer</code> åŸ·è¡Œ state ä¿®æ”¹ï¼Œçµ„ä»¶å…§ä¸ç›´æ¥å° state æ“ä½œ</li>
<li>reducer èˆ‡çµ„ä»¶é–“å‚³åƒæ•¸ï¼š</li>
</ul>
<pre class="hljs"><code><span class="hljs-comment">// çµ„ä»¶ - å‚³ name</span>
<span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">ACTION</span>.<span class="hljs-property">ADD_TODO</span>, <span class="hljs-attr">payload</span>: { name }});

<span class="hljs-comment">// reducer - æ¥æ”¶ name</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">reducer</span> = (<span class="hljs-params">state, action</span>) => {
  <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-variable constant_">ACTION</span>.<span class="hljs-property">ADD_TODO</span>:
      <span class="hljs-keyword">return</span> [...state, <span class="hljs-title function_">newTodo</span>(action.<span class="hljs-property">payload</span>.<span class="hljs-property">name</span>)];
    ...,
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> state;
  }
};
</code></pre>
<ul>
<li>å¯å‚³å…¥<a href="https://zh-hant.reactjs.org/docs/hooks-reference.html#lazy-initialization" target="_blank" rel="noreferrer noopener">ç¬¬ä¸‰å€‹åƒæ•¸(function)</a>
<ul>
<li>è¨ˆç®—åˆå§‹ state çš„é‚è¼¯æå–åˆ° reducer å¤–</li>
<li>æ–¹ä¾¿é‡ç½® state</li>
</ul>
</li>
<li>é©ç”¨<strong>è¤‡é›œçš„ state é‚è¼¯ä¿®æ”¹</strong>æƒ…å¢ƒ e.g. è¨ˆç®—æ©Ÿå¯ä»¥ä½¿ç”¨åŠ æ¸›ä¹˜é™¤ä¿®æ”¹åŸå…ˆçš„å€¼ã€åŒåˆ—è¡¨æ’åº(æ›´æ–°æ™‚é–“ã€å‰µå»ºæ™‚é–“ã€åå­— etc.)</li>
</ul>
<h3>ç¯„ä¾‹</h3>
<pre class="hljs"><code><span class="hljs-comment">// Todos.jsx</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ACTION</span> = {
  <span class="hljs-attr">ADD_TODO</span>: <span class="hljs-string">"add-todo"</span>,
  <span class="hljs-attr">TOGGLE_TODO</span>: <span class="hljs-string">"toggle_todo"</span>,
  <span class="hljs-attr">DELETE</span>: <span class="hljs-string">"delete-todo"</span>
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">newTodo</span> = name => {
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), <span class="hljs-attr">name</span>: name, <span class="hljs-attr">complete</span>: <span class="hljs-literal">false</span> };
};

<span class="hljs-comment">// Step 2. æ’°å¯« reducer</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">reducer</span> = (<span class="hljs-params">state, action</span>) => {
  <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-variable constant_">ACTION</span>.<span class="hljs-property">ADD_TODO</span>:
      <span class="hljs-keyword">return</span> [...state, <span class="hljs-title function_">newTodo</span>(action.<span class="hljs-property">payload</span>.<span class="hljs-property">name</span>)];
    <span class="hljs-keyword">case</span> <span class="hljs-variable constant_">ACTION</span>.<span class="hljs-property">TOGGLE_TODO</span>:
      <span class="hljs-keyword">return</span> state.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =></span> {
        <span class="hljs-keyword">if</span> (todo.<span class="hljs-property">id</span> === action.<span class="hljs-property">payload</span>.<span class="hljs-property">id</span>) <span class="hljs-keyword">return</span> { ...todo, <span class="hljs-attr">complete</span>: !todo.<span class="hljs-property">complete</span> };
        <span class="hljs-keyword">return</span> todo;
      });
    <span class="hljs-keyword">case</span> <span class="hljs-variable constant_">ACTION</span>.<span class="hljs-property">DELETE</span>:
      <span class="hljs-keyword">return</span> state.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =></span> todo.<span class="hljs-property">id</span> !== action.<span class="hljs-property">payload</span>.<span class="hljs-property">id</span>);
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> state;
  }
};


<span class="hljs-keyword">const</span> <span class="hljs-title function_">Todos</span> = (<span class="hljs-params"></span>) => {
  <span class="hljs-comment">// Step 1. ä½¿ç”¨ useReducerï¼Œä¸¦å‚³å…¥åˆå§‹å€¼</span>
  <span class="hljs-keyword">const</span> [todos, dispatch] = <span class="hljs-title function_">useReducer</span>(reducer, []);
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = e => {
    e.<span class="hljs-title function_">preventDefault</span>();
    <span class="hljs-comment">// Step 3. dispatch action</span>
    <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">ACTION</span>.<span class="hljs-property">ADD_TODO</span>, <span class="hljs-attr">payload</span>: { name } });
    <span class="hljs-title function_">setName</span>(<span class="hljs-string">""</span>);
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleToggle</span> = id => {
    <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">ACTION</span>.<span class="hljs-property">TOGGLE_TODO</span>, <span class="hljs-attr">payload</span>: { id } });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(todos);
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleDelete</span> = id => {
    <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-variable constant_">ACTION</span>.<span class="hljs-property">DELETE</span>, <span class="hljs-attr">payload</span>: { id } });
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>></span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =></span> setName(e.target.value)} />
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>></span>

      {todos.map(todo => (
        <span class="hljs-tag">&lt;<span class="hljs-name">Todo</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span> <span class="hljs-attr">todo</span>=<span class="hljs-string">{todo}</span> <span class="hljs-attr">handleToggle</span>=<span class="hljs-string">{handleToggle}</span> <span class="hljs-attr">handleDelete</span>=<span class="hljs-string">{handleDelete}</span> /></span>
      ))}
    <span class="hljs-tag">&lt;/></span></span>
  );
};

</code></pre>
<pre class="hljs"><code><span class="hljs-comment">// Todo.jsx</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Todo</span> = (<span class="hljs-params">{ todo, handleToggle, handleDelete }</span>) => {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> <span class="hljs-attr">todo.complete</span> ? "<span class="hljs-attr">green</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">red</span>" }}></span>{todo.name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> handleToggle(todo.id)}>Toggle<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =></span> handleDelete(todo.id)}>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span></span>
  );
};
</code></pre>
<h2 id="åƒè€ƒè³‡æ–™" title="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</a></h2>
<ol>
<li><a href="https://reactjs.org/docs/getting-started.html" target="_blank" rel="noreferrer noopener">React å®˜æ–¹æ–‡ä»¶</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLZlA0Gpn_vH8EtggFGERCwMY5u5hOjf-h" target="_blank" rel="noreferrer noopener">Web Dev Simplified - React Hooks</a></li>
</ol>
</div> <div class="flex flex-wrap items-center mt-4" data-v-000d1de0><svg xmlns="http://www.w3.org/2000/svg" class="info-icon mr-1 icon sprite-icons" data-v-000d1de0 data-v-000d1de0><use href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-tag" xlink:href="/_nuxt/f843cfb34d16391006fad1e72364f960.svg#i-tag" data-v-000d1de0 data-v-000d1de0></use></svg> <span class="tag" data-v-66ee7d80 data-v-000d1de0>React</span><span class="tag" data-v-66ee7d80 data-v-000d1de0>React Hooks</span></div> <div class="flex flex-wrap justify-between mt-4 text-sm italic text-dark-gray" data-v-000d1de0><div data-v-000d1de0>Published on 08 Dec 2021</div> <div data-v-000d1de0>Updated on 08 Dec 2021</div></div></article></main> <footer data-v-301919f7>Copyright Â© 2021 JennieSH</footer></div></div></div><script defer src="/_nuxt/static/1638916314/dev/React/react-hooks-first/state.js"></script><script src="/_nuxt/b2bd543.js" defer></script><script src="/_nuxt/cc6e922.js" defer></script><script src="/_nuxt/dd029ca.js" defer></script><script src="/_nuxt/c0b5891.js" defer></script><script src="/_nuxt/d5937fe.js" defer></script><script src="/_nuxt/aa6a0dc.js" defer></script>
  </body>
</html>
