window.__NUXT__=(function(a,b,c){return {staticAssetsBase:"\u002F_nuxt\u002Fstatic\u002F1734247958",layout:"default",error:a,serverRendered:true,routePath:"\u002Fdev\u002FTest\u002Fvitest-matchers",config:{_app:{basePath:"\u002F",assetsPath:"\u002F_nuxt\u002F",cdnURL:a}},globalRefs:{},ssrRefs:{"articleMatter-Test-vitest-matchers":{info:{title:b,fileName:"vitest-matchers",description:"語法與常用 Matchers 介紹",createdAt:c,updatedAt:c,tags:["Test","Vitest"]},content:"\u003Ch1 id=\"Vitest - 語法與常用 Matchers\" title=\"Vitest - 語法與常用 Matchers\"\u003EVitest - 語法與常用 Matchers\u003C\u002Fh1\u003E\n\u003Ch2 id=\"基本語法\" title=\"基本語法\"\u003E\u003Ca href=\"#基本語法\"\u003E基本語法\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Ch3\u003Etest \u002F it\u003C\u002Fh3\u003E\n\u003Cp\u003E定義一個測試案例(test case)的最小單位，\u003Ccode\u003Eit\u003C\u002Fcode\u003E 為 \u003Ccode\u003Etest\u003C\u002Fcode\u003E 的別名，可替代使用。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { expect, test } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;vitest&quot;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;should work as expected&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-title class_\"\u003EMath\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003Esqrt\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoBe\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E);\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3\u003Edescribe\u003C\u002Fh3\u003E\n\u003Cp\u003E會形成一個作用域(scope)，可以將同一個測試情境(test suite)的相關性測試案例(test case)集中起來。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { describe, test, expect } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;vitest&quot;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-title function_\"\u003Edescribe\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;Input 組件&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;沒有輸入文字前，應該顯示 xxx placeholder&quot;\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {...});\n  \u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;輸入文字後，搜尋按鈕要 enable&quot;\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {...});\n  \u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;輸入字數超過最大字數限制時，應該顯示錯誤訊息&quot;\u003C\u002Fspan\u003E,  \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {...});\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3\u003Evi\u003C\u002Fh3\u003E\n\u003Cp\u003E是 vitest 提供的輔助工具，可以提供模擬 Modules、函式、物件和時間等功能。\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003E補充：\u003C\u002Fstrong\u003E vi 是對應 Jest 的 jest API。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { expect, test, vi } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;vitest&quot;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;Element render correctly&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E () =&gt; {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 等到 element 出現在頁面上，再對 element 做操作\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E element = \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E vi.\u003Cspan class=\"hljs-title function_\"\u003EwaitUntil\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-variable language_\"\u003Edocument\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003EquerySelector\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;.element&quot;\u003C\u002Fspan\u003E), {\n    \u003Cspan class=\"hljs-attr\"\u003Etimeout\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E500\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F default is 1000\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Einterval\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E20\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F default is 50\u003C\u002Fspan\u003E\n  });\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F do something with the element\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(element.\u003Cspan class=\"hljs-title function_\"\u003EquerySelector\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;.element-child&quot;\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoBeTruthy\u003C\u002Fspan\u003E();\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"\u003Cstrong\u003E斷言語法和常見\u003C\u002Fstrong\u003E Matchers\" title=\"\u003Cstrong\u003E斷言語法和常見\u003C\u002Fstrong\u003E Matchers\"\u003E\u003Ca href=\"#\u003Cstrong\u003E斷言語法和常見\u003C\u002Fstrong\u003E Matchers\"\u003E\u003Cstrong\u003E斷言語法和常見\u003C\u002Fstrong\u003E Matchers\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E斷言(Assertion) 是在測試中用來檢查程式碼是否按預期運行的語句，驗證某個條件是否為真或假(true\u002Ffalse)。根據測試比對的東西類型，所搭配使用的 Matchers 選擇也不同。\u003C\u002Fp\u003E\n\u003Ch3\u003Eexpect\u003C\u002Fh3\u003E\n\u003Cp\u003E用於創建斷言，程式碼執行結果與斷言設定一致的話，就會通過測試，支援 \u003Ccode\u003Echai\u003C\u002Fcode\u003E 和 \u003Ccode\u003EJest\u003C\u002Fcode\u003E 斷言寫法。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-title class_\"\u003EMath\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003Esqrt\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-property\"\u003Eto\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003Eequal\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E); \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F chai API\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-title class_\"\u003EMath\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003Esqrt\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoBe\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E); \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F jest API\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003E補充：\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E如果想檢查 type，可使用 \u003Ccode\u003EexpectTypeOf\u003C\u002Fcode\u003E 或 \u003Ccode\u003EassertType\u003C\u002Fcode\u003E ，或者使用 \u003Ccode\u003Eexpect\u003C\u002Fcode\u003E + \u003Ccode\u003EtoBeTypeOf\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-title function_\"\u003EexpectTypeOf\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Ea\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E }).\u003Cspan class=\"hljs-property\"\u003EtoEqualTypeOf\u003C\u002Fspan\u003E&lt;{ \u003Cspan class=\"hljs-attr\"\u003Ea\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E }&gt;();\n\u003Cspan class=\"hljs-title function_\"\u003EexpectTypeOf\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Ea\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E }).\u003Cspan class=\"hljs-title function_\"\u003EtoEqualTypeOf\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Ea\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E });\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 泛型檢查\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003Econcat\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Ea: \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E, b: \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E): \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003Econcat\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Ea: \u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E, b: \u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E): \u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003Econcat\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Ea: \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E | \u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E, b: \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E | \u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E): \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E | \u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E;\n\nassertType&lt;\u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E&gt;(\u003Cspan class=\"hljs-title function_\"\u003Econcat\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;a&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&quot;b&quot;\u003C\u002Fspan\u003E));\nassertType&lt;\u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E&gt;(\u003Cspan class=\"hljs-title function_\"\u003Econcat\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E));\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F expect + toBeTypeOf\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;stock is type of string&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;stock&quot;\u003C\u002Fspan\u003E).\u003Cspan class=\"hljs-title function_\"\u003EtoBeTypeOf\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;string&quot;\u003C\u002Fspan\u003E);\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch3\u003E純值\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoBe\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言值或斷言物件的 reference 是否相等。\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003E補充：\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EJavaScript 有浮點數精算問題，浮點數的計算要使用 \u003Ccode\u003EtoBeCloseTo\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E想檢查物件(Object)的結構是否相等，要使用 \u003Ccode\u003EtoEqual\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E stock = {\n  \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ecount\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E13\u003C\u002Fspan\u003E\n};\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;stock has 13 apples&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(stock.\u003Cspan class=\"hljs-property\"\u003Etype\u003C\u002Fspan\u003E).\u003Cspan class=\"hljs-title function_\"\u003EtoBe\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(stock.\u003Cspan class=\"hljs-property\"\u003Ecount\u003C\u002Fspan\u003E).\u003Cspan class=\"hljs-title function_\"\u003EtoBe\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E13\u003C\u002Fspan\u003E);\n});\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;stocks are the same&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E refStock = stock; \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F same reference\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(stock).\u003Cspan class=\"hljs-title function_\"\u003EtoBe\u003C\u002Fspan\u003E(refStock);\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoBeDefined\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E \u002F \u003Cstrong\u003E\u003Ccode\u003EtoBeUndefined\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言值是否為 undefined。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoBeNull\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E、\u003Cstrong\u003E\u003Ccode\u003EtoBeNaN\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言值是否為 null \u002F NaN。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoBeTruthy\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E \u002F \u003Cstrong\u003E\u003Ccode\u003EtoBeFalsy\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言值的 boolean 檢查。\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003E補充：\u003C\u002Fstrong\u003E\u003Ccode\u003Enull\u003C\u002Fcode\u003E、\u003Ccode\u003Eundefined\u003C\u002Fcode\u003E、\u003Ccode\u003ENaN\u003C\u002Fcode\u003E、\u003Ccode\u003E0\u003C\u002Fcode\u003E、\u003Ccode\u003E-0\u003C\u002Fcode\u003E、\u003Ccode\u003E0n\u003C\u002Fcode\u003E、\u003Ccode\u003E&quot;&quot;\u003C\u002Fcode\u003E 和 \u003Ccode\u003Edocument.all\u003C\u002Fcode\u003E 皆為 falsy 的種類。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoMatch\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言字符串的字串匹配和正則表達式檢查。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;top fruits&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;top fruits include apple, orange and grape&quot;\u003C\u002Fspan\u003E).\u003Cspan class=\"hljs-title function_\"\u003EtoMatch\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-regexp\"\u003E\u002Fapple\u002F\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;applefruits&quot;\u003C\u002Fspan\u003E).\u003Cspan class=\"hljs-title function_\"\u003EtoMatch\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;fruit&quot;\u003C\u002Fspan\u003E); \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F toMatch also accepts a string\u003C\u002Fspan\u003E\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoBeGreaterThan\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E \u002F \u003Cstrong\u003E\u003Ccode\u003EtoBeGreaterThanOrEqual\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E \u002F \u003Cstrong\u003E\u003Ccode\u003EtoBeLessThan\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E \u002F\u003Cstrong\u003E\u003Ccode\u003EtoBeLessThanOrEqual\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言值與接收值的大小比較。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3\u003E陣列\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoContain\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言值是否在陣列中。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;the fruit list contains orange&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-title function_\"\u003EgetAllFruits\u003C\u002Fspan\u003E()).\u003Cspan class=\"hljs-title function_\"\u003EtoContain\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;orange&quot;\u003C\u002Fspan\u003E);\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoContainEqual\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言物件是否在陣列中，物件結構和值必須完全相等(會遞迴比較)。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;apple available&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-title function_\"\u003EgetFruitStock\u003C\u002Fspan\u003E()).\u003Cspan class=\"hljs-title function_\"\u003EtoContainEqual\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Efruit\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;apple&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ecount\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E });\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoMatchObject\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言物件是否有匹配的到另一個物件的部份屬性。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E johnInvoice = {\n  \u003Cspan class=\"hljs-attr\"\u003Ecustomer\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003Efirst_name\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;John&quot;\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-attr\"\u003Elast_name\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Doe&quot;\u003C\u002Fspan\u003E\n  },\n  \u003Cspan class=\"hljs-attr\"\u003Eitems\u003C\u002Fspan\u003E: [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Equantity\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;oranges&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Equantity\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E\n    }\n  ]\n};\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E johnDetails = {\n  \u003Cspan class=\"hljs-attr\"\u003Ecustomer\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003Efirst_name\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;John&quot;\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-attr\"\u003Elast_name\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Doe&quot;\u003C\u002Fspan\u003E\n  }\n};\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;invoice has john personal details&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(johnInvoice).\u003Cspan class=\"hljs-title function_\"\u003EtoMatchObject\u003C\u002Fspan\u003E(johnDetails);\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003E補充：\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003EtoMatchObject\u003C\u002Fcode\u003E 也可以接收陣列，用來檢查兩個陣列中的元素數量是否相等。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;the number of elements must match exactly&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Assert that an array of object matches\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E([{ \u003Cspan class=\"hljs-attr\"\u003Efoo\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;bar&quot;\u003C\u002Fspan\u003E }, { \u003Cspan class=\"hljs-attr\"\u003Ebaz\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E }]).\u003Cspan class=\"hljs-title function_\"\u003EtoMatchObject\u003C\u002Fspan\u003E([\n    { \u003Cspan class=\"hljs-attr\"\u003Efoo\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;bar&quot;\u003C\u002Fspan\u003E },\n    { \u003Cspan class=\"hljs-attr\"\u003Ebaz\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E }\n  ]);\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fblockquote\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoHaveLength\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E檢查字串、陣列的長度。\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3\u003E物件\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoEqual\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E檢查斷言物件的值與接收到的物件的值是否相同結構(會遞迴比較)。\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E**補充：**如果物件結構裡面，欄位的值連出現 undefined 都要嚴格相等比較時，要選擇 \u003Ccode\u003EtoStrictEqual\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F toEqual 與 toBe 比較\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E stockBill = {\n  \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ecount\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E13\u003C\u002Fspan\u003E\n};\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E stockMary = {\n  \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ecount\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E13\u003C\u002Fspan\u003E\n};\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;stocks have the same properties&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(stockBill).\u003Cspan class=\"hljs-title function_\"\u003EtoEqual\u003C\u002Fspan\u003E(stockMary);\n});\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;stocks are not the same&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(stockBill).\u003Cspan class=\"hljs-property\"\u003Enot\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003EtoBe\u003C\u002Fspan\u003E(stockMary);\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoStrictEqual\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E檢查斷言物件的值與接收到的物件的值是否相同結構和值(會遞迴比較)。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F toStrictEqual 與 toEqual 比較\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;structurally the same, but semantically different&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Ea\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Eundefined\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eb\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E }).\u003Cspan class=\"hljs-title function_\"\u003EtoEqual\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Eb\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E });\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Ea\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Eundefined\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Eb\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E }).\u003Cspan class=\"hljs-property\"\u003Enot\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003EtoStrictEqual\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Eb\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E });\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoHaveProperty\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言物件是否有包含有特定的 key，第二個可選參數可傳入該 key 預期的值(會遞迴比較)。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E invoice = {\n  \u003Cspan class=\"hljs-attr\"\u003EisActive\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-string\"\u003E&quot;P.O&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;12345&quot;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Ecustomer\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003Efirst_name\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;John&quot;\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-attr\"\u003Elast_name\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Doe&quot;\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-attr\"\u003Elocation\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;China&quot;\u003C\u002Fspan\u003E\n  },\n  \u003Cspan class=\"hljs-attr\"\u003Etotal_amount\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5000\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Eitems\u003C\u002Fspan\u003E: [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Equantity\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;oranges&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Equantity\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E\n    }\n  ]\n};\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;John Doe Invoice&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 純檢查 key 值是否存在\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;isActive&quot;\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 檢查 key 和 value\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;total_amount&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E5000\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 使用 `.`，取得物件底下的 key 和該 value\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;customer.first_name&quot;\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;customer.last_name&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&quot;Doe&quot;\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-property\"\u003Enot\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;customer.location&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&quot;India&quot;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Array key 取法，可以用 array[index] 或 [keyPath]\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;items[0].type&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;items.0.type&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E);\n\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E([\u003Cspan class=\"hljs-string\"\u003E&quot;items&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&quot;type&quot;\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E);\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(invoice).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveProperty\u003C\u002Fspan\u003E([\u003Cspan class=\"hljs-string\"\u003E&quot;items&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&quot;0&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&quot;type&quot;\u003C\u002Fspan\u003E], \u003Cspan class=\"hljs-string\"\u003E&quot;apples&quot;\u003C\u002Fspan\u003E); \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F string notation also works\u003C\u002Fspan\u003E\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3\u003E函式\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoHaveReturnedWith\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言函式至少被呼叫一次，並且成功返回帶有特定參數的值，需要將一個 spy 函式傳遞給 expect。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003Eadd\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Ea, b\u003C\u002Fspan\u003E) {\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E a + b;\n}\n\n\u003Cspan class=\"hljs-title function_\"\u003Edescribe\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;add function&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003Eit\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;should return the correct sum&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 創建一個間諜函數\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E spy = vi.\u003Cspan class=\"hljs-title function_\"\u003Efn\u003C\u002Fspan\u003E(add);\n\n    \u003Cspan class=\"hljs-title function_\"\u003Espy\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E);\n\n    \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(spy).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveReturnedWith\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E);\n  });\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoHaveBeenCalled\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言函式函式至少被呼叫一次，需要將一個 spy 函式傳遞給 expect。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E market = {\n  \u003Cspan class=\"hljs-title function_\"\u003Ebuy\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Esubject: \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E, amount: \u003Cspan class=\"hljs-built_in\"\u003Enumber\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E) { ... },\n}\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;spy function&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E buySpy = vi.\u003Cspan class=\"hljs-title function_\"\u003EspyOn\u003C\u002Fspan\u003E(market, \u003Cspan class=\"hljs-string\"\u003E&#x27;buy&#x27;\u003C\u002Fspan\u003E)\n\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(buySpy).\u003Cspan class=\"hljs-property\"\u003Enot\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003EtoHaveBeenCalled\u003C\u002Fspan\u003E()\n\n  market.\u003Cspan class=\"hljs-title function_\"\u003Ebuy\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;apples&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E)\n\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(buySpy).\u003Cspan class=\"hljs-title function_\"\u003EtoHaveBeenCalled\u003C\u002Fspan\u003E()\n})\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3\u003EError\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EtoThrowError\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E斷言函式在被調用時是否會拋出錯誤，別名可用 \u003Ccode\u003EtoThrow\u003C\u002Fcode\u003E，expect 裡面\u003Cstrong\u003E必須包裝成一個函式\u003C\u002Fstrong\u003E。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EgetFruitStock\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E) {\n  \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-keyword\"\u003Etype\u003C\u002Fspan\u003E === \u003Cspan class=\"hljs-string\"\u003E&#x27;pineapples&#x27;\u003C\u002Fspan\u003E) {\n    \u003Cspan class=\"hljs-keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title class_\"\u003EError\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;Pineapples are not in stock&#x27;\u003C\u002Fspan\u003E)\n  }\n\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;throws on pineapples&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F  error msg 必須包含 stock 字串\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EgetFruitStock\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;pineapples&#x27;\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoThrowError\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-regexp\"\u003E\u002Fstock\u002F\u003C\u002Fspan\u003E)\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EgetFruitStock\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;pineapples&#x27;\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoThrowError\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;stock&#x27;\u003C\u002Fspan\u003E)\n\n   \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F  利用正則表達式檢查 error msg 是否完全相等\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EgetFruitStock\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;pineapples&#x27;\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoThrowError\u003C\u002Fspan\u003E(\n    \u003Cspan class=\"hljs-regexp\"\u003E\u002F^Pineapples are not in stock$\u002F\u003C\u002Fspan\u003E\n  )\n\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EgetFruitStock\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;pineapples&#x27;\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoThrowError\u003C\u002Fspan\u003E(\n    \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title class_\"\u003EError\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;Pineapples are not in stock&#x27;\u003C\u002Fspan\u003E),\n  )\n  \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EgetFruitStock\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;pineapples&#x27;\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoThrowError\u003C\u002Fspan\u003E(expect.\u003Cspan class=\"hljs-title function_\"\u003EobjectContaining\u003C\u002Fspan\u003E({\n    \u003Cspan class=\"hljs-attr\"\u003Emessage\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;Pineapples are not in stock&#x27;\u003C\u002Fspan\u003E,\n  }))\n})\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E如果是非同步函式，需要搭配 \u003Ccode\u003Erejects\u003C\u002Fcode\u003E：\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EgetAsyncFruitStock\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) {\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title class_\"\u003EPromise\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003Ereject\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title class_\"\u003EError\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;empty&quot;\u003C\u002Fspan\u003E));\n}\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 非同步因為是回傳 promise，所以需要 async \u002F await\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-title function_\"\u003Etest\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;throws on pineapples&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E () =&gt; {\n  \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EgetAsyncFruitStock\u003C\u002Fspan\u003E()).\u003Cspan class=\"hljs-property\"\u003Erejects\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title function_\"\u003EtoThrowError\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;empty&quot;\u003C\u002Fspan\u003E);\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"生命週期\" title=\"生命週期\"\u003E\u003Ca href=\"#生命週期\"\u003E生命週期\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E下面這些 API 可以掛鉤到測試的生命週期，\u003Cstrong\u003E避免重複的前置準備和後續清理\u003C\u002Fstrong\u003E。\u003C\u002Fp\u003E\n\u003Cp\u003E執行範圍會根據撰寫所在的範疇(context)，如果是在 top-level 使用，則適用於整個文件；如果在 describe 區塊內使用，則適用於區塊內測試。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-title function_\"\u003EbeforeAll\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 在所有測試前建立一次性的測試環境\u003C\u002Fspan\u003E\n  db = \u003Cspan class=\"hljs-title function_\"\u003EinitializeDatabase\u003C\u002Fspan\u003E();\n});\n\n\u003Cspan class=\"hljs-title function_\"\u003EafterAll\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 在所有測試後清理測試環境\u003C\u002Fspan\u003E\n  db.\u003Cspan class=\"hljs-title function_\"\u003Eclose\u003C\u002Fspan\u003E();\n});\n\n\u003Cspan class=\"hljs-title function_\"\u003Edescribe\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;Database tests&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-title function_\"\u003EbeforeEach\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 在每個測試前重置數據庫\u003C\u002Fspan\u003E\n    db.\u003Cspan class=\"hljs-title function_\"\u003Ereset\u003C\u002Fspan\u003E();\n  });\n\n  \u003Cspan class=\"hljs-title function_\"\u003EafterEach\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 在每個測試後清理數據庫\u003C\u002Fspan\u003E\n    db.\u003Cspan class=\"hljs-title function_\"\u003Ecleanup\u003C\u002Fspan\u003E();\n  });\n\n  \u003Cspan class=\"hljs-title function_\"\u003Eit\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;should insert a record&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n    db.\u003Cspan class=\"hljs-title function_\"\u003Einsert\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Test&quot;\u003C\u002Fspan\u003E });\n    \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(db.\u003Cspan class=\"hljs-title function_\"\u003Efind\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoEqual\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Test&quot;\u003C\u002Fspan\u003E });\n  });\n\n  \u003Cspan class=\"hljs-title function_\"\u003Eit\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&quot;should delete a record&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E {\n    db.\u003Cspan class=\"hljs-title function_\"\u003Einsert\u003C\u002Fspan\u003E({ \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;Test&quot;\u003C\u002Fspan\u003E });\n    db.\u003Cspan class=\"hljs-title function_\"\u003Edelete\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E);\n    \u003Cspan class=\"hljs-title function_\"\u003Eexpect\u003C\u002Fspan\u003E(db.\u003Cspan class=\"hljs-title function_\"\u003Efind\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E)).\u003Cspan class=\"hljs-title function_\"\u003EtoBeNull\u003C\u002Fspan\u003E();\n  });\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3\u003E\u003Cstrong\u003EbeforeEach\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E在當前範疇(context)的每個測試執行前呼叫。\u003Ccode\u003EbeforeEach\u003C\u002Fcode\u003E 還接受一個 optional 的清理函式（相當於 \u003Ccode\u003EafterEach\u003C\u002Fcode\u003E）。\u003C\u002Fp\u003E\n\u003Cp\u003E適用情境：\u003C\u002Fp\u003E\n\u003Cp\u003E在每個測試執行前需要進行一些重複的設置工作，例如：初始化數據庫連接、設置測試數據、重置變數等。\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-title function_\"\u003EbeforeEach\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E () =&gt; {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 每個測試前都會執行\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EprepareSomething\u003C\u002Fspan\u003E();\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 每個測試後都會執行\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F clean up function\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E () =&gt; {\n    \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title function_\"\u003EresetSomething\u003C\u002Fspan\u003E();\n  };\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3\u003E\u003Cstrong\u003EafterEach\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E在當前範疇(context)的每個測試執行後呼叫。\u003C\u002Fp\u003E\n\u003Cp\u003E適用情境：\u003C\u002Fp\u003E\n\u003Cp\u003E在每個測試執行後需要進行一些清理工作，例如：清理數據庫、重置全局狀態、釋放資源等。\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003EbeforeAll\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E在當前範疇(context)的全部測試執行前呼叫。\u003Ccode\u003EbeforeAll\u003C\u002Fcode\u003E 也還接受一個 optional 的清理函式（相當於 \u003Ccode\u003EafterAll\u003C\u002Fcode\u003E）。\u003C\u002Fp\u003E\n\u003Cp\u003E適用情境：\u003C\u002Fp\u003E\n\u003Cp\u003E在所有測試執行前需要進行一次性的設置工作，例如：建立一次性的測試環境、載入配置文件、初始化外部服務等。\u003C\u002Fp\u003E\n\u003Ch3\u003E\u003Cstrong\u003EafterAll\u003C\u002Fstrong\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E在當前範疇(context)的全部測試執行後呼叫。\u003C\u002Fp\u003E\n\u003Cp\u003E適用情境：\u003C\u002Fp\u003E\n\u003Cp\u003E在所有測試執行後需要進行一次性的清理工作，例如：釋放全局資源、關閉伺服器、清理測試環境等。\u003C\u002Fp\u003E\n\u003Ch2 id=\"\u003Cstrong\u003E參考資料\u003C\u002Fstrong\u003E\" title=\"\u003Cstrong\u003E參考資料\u003C\u002Fstrong\u003E\"\u003E\u003Ca href=\"#\u003Cstrong\u003E參考資料\u003C\u002Fstrong\u003E\"\u003E\u003Cstrong\u003E參考資料\u003C\u002Fstrong\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca  href=\"https:\u002F\u002Fvitest.dev\u002Fapi\u002F\" target=\"_blank\" rel=\"noreferrer noopener\"\u003EVitest API\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca  href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=FDEf3iWEgFI\" target=\"_blank\" rel=\"noreferrer noopener\"\u003EFast Unit Testing With Vitest\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",toc:{title:b,subtitles:["基本語法","斷言語法和常見 Matchers","生命週期","參考資料"]},wordCount:2104}}}}(null,"Vitest - 語法與常用 Matchers","2024-12-15T00:00:00.000Z"));