{"info":{"title":"客製化 command line - Warp + Starship","fileName":"terminal-warp-starship","description":"入坑 Warp，第一步就是客製化它！ 第二彈 feat. Starship","createdAt":"2024-05-16T00:00:00.000Z","updatedAt":"2024-05-16T00:00:00.000Z","tags":["MacOS","Warp","terminal","productivity","Starship"]},"content":"<h6>tags: <code>MacOS</code>、<code>Warp</code>、<code>Starship</code>、<code>terminal</code>、<code>productivity</code></h6>\n<h1 id=\"客製化 command line - Warp + Starship\" title=\"客製化 command line - Warp + Starship\">客製化 command line - Warp + Starship</h1>\n<p>此篇文章是參考 <a  href=\"https://dev.to/therubberduckiee/how-to-configure-starship-to-look-exactly-like-p10k-zsh-warp-h9h\" target=\"_blank\" rel=\"noreferrer noopener\">How to Configure Starship to Look Exactly Like P10K</a> 來設定樣式，因原文章有段時間了，所以這次跑安裝流程也有踩到一些坑，順手紀錄一下如何使用 Starship 來客製化 Warp 的 command line。</p>\n<p><img src=\"https://hackmd.io/_uploads/rJXMJ4_j3.png\" alt=\"warp\" /></p>\n<p><img src=\"https://hackmd.io/_uploads/BJE0vOzXR.png\" alt=\"warp\" /></p>\n<p>上面兩張圖分別是 Before(預設) 和 After(Starship)～</p>\n<h2 id=\"安裝 Warp\" title=\"安裝 Warp\"><a href=\"#安裝 Warp\">安裝 Warp</a></h2>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$brew</span> install --cask warp\n</code></pre>\n<h2 id=\"設定字體\" title=\"設定字體\"><a href=\"#設定字體\">設定字體</a></h2>\n<p>為了順利顯示各種 icons，字體需要更改成 Nerd Font：</p>\n<p><strong><code>Settings</code> -&gt; <code>Appearance</code> -&gt; <code>Text</code> -&gt; <code>Terminal font</code> 改成 <code>MesloGS NF</code></strong></p>\n<blockquote>\n<p>筆者是使用 <code>MesloGS Nerd Font</code>，可自行選擇下載的版本。</p>\n</blockquote>\n<p><img src=\"https://hackmd.io/_uploads/ByAkVwSin.png\" alt=\"設定字體\" /></p>\n<div class=\"info\">\n<p>💡 <strong>Nerd Font 相關下載點：</strong></p>\n<ul>\n<li><a  href=\"https://eng.m.fontke.com/font/24637081/\" target=\"_blank\" rel=\"noreferrer noopener\"><code>DroidSansMono Nerd Font</code></a></li>\n<li><a  href=\"https://github.com/romkatv/powerlevel10k#meslo-nerd-font-patched-for-powerlevel10k\" target=\"_blank\" rel=\"noreferrer noopener\"><code>MesloGS Nerd Font</code></a></li>\n</ul>\n</div>\n<h2 id=\"安裝 Starship\" title=\"安裝 Starship\"><a href=\"#安裝 Starship\">安裝 Starship</a></h2>\n<p>筆者環境是使用 <a  href=\"https://brew.sh/\" target=\"_blank\" rel=\"noreferrer noopener\">Homebrew</a> (套件管理器)＋ Zsh (Shell)，如果是使用其他的，可以參考 <a  href=\"https://starship.rs/zh-TW/\" target=\"_blank\" rel=\"noreferrer noopener\">Starship</a> 的安裝設定。</p>\n<h3>1. 安裝</h3>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$brew</span> install starship\n</code></pre>\n<h3>2. 初始化腳本 (script)</h3>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$vi</span> ~/.zshrc\n</code></pre>\n<p>先輸入 <code>i</code> 進入 insert 模式，將以下內容放在最底部：</p>\n<p><code>eval &quot;$(starship init zsh)&quot;</code></p>\n<p>按 <code>esc</code> 結束編輯，輸入 <code>wq</code>，存檔離開。</p>\n<div class=\"warning\">\n<p>⚠️ <strong>注意</strong></p>\n<p>如果之前電腦設定過 iTerms + powerlevel10k，這邊會踩到一個坑，zsh 會一直套用 powerlevel10k，沒辦法看到 Starship prompt。</p>\n<p>解決辦法是<a  href=\"https://github.com/warpdotdev/Warp/issues/1518#issuecomment-1415410776\" target=\"_blank\" rel=\"noreferrer noopener\">針對 Warp Terminal，去執行對應的動作</a>：</p>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$vi</span> ~/.zshrc\n</code></pre>\n<p>將原本這段</p>\n<pre class=\"hljs\"><code>ZSH_THEME=<span class=\"hljs-string\">&quot;powerlevel10k/powerlevel10k&quot;</span>\n\n....\n\n<span class=\"hljs-built_in\">eval</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-subst\">$(starship init zsh)</span>&quot;</span>\n</code></pre>\n<p>改成</p>\n<pre class=\"hljs\"><code><span class=\"hljs-keyword\">if</span> [[ <span class=\"hljs-variable\">$TERM_PROGRAM</span> == <span class=\"hljs-string\">&quot;WarpTerminal&quot;</span> ]]; <span class=\"hljs-keyword\">then</span>\n  ZSH_THEME=<span class=\"hljs-string\">&quot;robbyrussell&quot;</span>\n<span class=\"hljs-keyword\">else</span>\n  ZSH_THEME=<span class=\"hljs-string\">&quot;powerlevel10k/powerlevel10k&quot;</span>\n<span class=\"hljs-keyword\">fi</span>\n\n...\n\n<span class=\"hljs-keyword\">if</span> [[ <span class=\"hljs-variable\">$TERM_PROGRAM</span> == <span class=\"hljs-string\">&quot;WarpTerminal&quot;</span> ]]; <span class=\"hljs-keyword\">then</span>\n <span class=\"hljs-built_in\">eval</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-subst\">$(starship init zsh)</span>&quot;</span>\n<span class=\"hljs-keyword\">fi</span>\n</code></pre>\n<p>存檔後，再重新執行 zsh 設定檔即可</p>\n<pre class=\"hljs\"><code><span class=\"hljs-built_in\">source</span> ~/.zshrc\n</code></pre>\n</div>\n<h3>3. 更改 Prompt 選項</h3>\n<p><strong><code>Settings</code> -&gt; <code>Appearance</code> -&gt; 點擊 <code>Prompt</code> -&gt; 選擇 <code>Shell prompt(PS1)</code></strong></p>\n<p><img src=\"https://hackmd.io/_uploads/BJfdfMlfR.png\" alt=\"Edit prompt\" /></p>\n<h2 id=\"設定 Starship prompt config\" title=\"設定 Starship prompt config\"><a href=\"#設定 Starship prompt config\">設定 Starship prompt config</a></h2>\n<h3>1. 新增 <code>starship.toml</code></h3>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$mkdir</span> -p ~/.config &amp;&amp; <span class=\"hljs-built_in\">touch</span> ~/.config/starship.toml\n</code></pre>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$vi</span> ~/.config/starship.toml\n</code></pre>\n<p>先輸入 <code>i</code> 進入 insert 模式，將以下內容寫入後按 <code>esc</code> 結束編輯，輸入 <code>wq</code>，存檔離開。</p>\n<blockquote>\n<p>這邊是 starship 相關設定，更多可以參考<a  href=\"https://starship.rs/zh-TW/config/\" target=\"_blank\" rel=\"noreferrer noopener\">官方的 Document</a>。</p>\n</blockquote>\n<pre class=\"hljs\"><code><span class=\"hljs-attr\">format</span> = <span class=\"hljs-string\">&quot;&quot;&quot;\\\n[](bg:#030B16 fg:#7DF9AA)\\\n[ ](bg:#7DF9AA fg:#090c0c)\\\n[](fg:#7DF9AA bg:#1C3A5E)\\\n$time\\\n[](fg:#1C3A5E bg:#6699cc)\\\n$directory\\\n[](fg:#6699cc bg:#ffcc66)\\\n$git_branch\\\n$git_status\\\n$git_metrics\\\n[](fg:#ffcc66 bg:#030B16)\\\n$character\\\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-section\">[directory]</span>\n<span class=\"hljs-attr\">format</span> = <span class=\"hljs-string\">&quot;[  $path ]($style)&quot;</span>\n<span class=\"hljs-attr\">style</span> = <span class=\"hljs-string\">&quot;fg:#000000 bg:#6699cc&quot;</span>\n\n<span class=\"hljs-section\">[git_branch]</span>\n<span class=\"hljs-attr\">format</span> = <span class=\"hljs-string\">&#x27;[ $symbol$branch(:$remote_branch) ]($style)&#x27;</span>\n<span class=\"hljs-attr\">symbol</span> = <span class=\"hljs-string\">&quot;  &quot;</span>\n<span class=\"hljs-attr\">style</span> = <span class=\"hljs-string\">&quot;fg:#000000 bg:#ffcc66&quot;</span>\n\n<span class=\"hljs-section\">[git_status]</span>\n<span class=\"hljs-attr\">ahead</span> = <span class=\"hljs-string\">&quot;⇡${count} &quot;</span>\n<span class=\"hljs-attr\">diverged</span> = <span class=\"hljs-string\">&quot;⇡${ahead_count}⇣${behind_count} &quot;</span>\n<span class=\"hljs-attr\">behind</span> = <span class=\"hljs-string\">&quot;⇣${count} &quot;</span>\n<span class=\"hljs-attr\">modified</span> = <span class=\"hljs-string\">&quot;!${count} &quot;</span>\n<span class=\"hljs-attr\">untracked</span> = <span class=\"hljs-string\">&quot;?${count} &quot;</span>\n<span class=\"hljs-attr\">staged</span> = <span class=\"hljs-string\">&quot;+${count} &quot;</span>\n<span class=\"hljs-attr\">format</span> = <span class=\"hljs-string\">&#x27;[$all_status]($style)&#x27;</span>\n<span class=\"hljs-attr\">style</span> = <span class=\"hljs-string\">&quot;fg:#000000 bg:#ffcc66&quot;</span>\n\n<span class=\"hljs-section\">[hg_branch]</span>\n<span class=\"hljs-attr\">format</span> = <span class=\"hljs-string\">&quot;[ $symbol$branch ]($style)&quot;</span>\n<span class=\"hljs-attr\">symbol</span> = <span class=\"hljs-string\">&quot; &quot;</span>\n\n<span class=\"hljs-section\">[cmd_duration]</span>\n<span class=\"hljs-attr\">format</span> = <span class=\"hljs-string\">&quot;[ ◷ $duration ]($style)&quot;</span>\n<span class=\"hljs-attr\">style</span> = <span class=\"hljs-string\">&quot;fg:bright-white bg:18&quot;</span>\n\n<span class=\"hljs-section\">[character]</span>\n<span class=\"hljs-attr\">success_symbol</span> = <span class=\"hljs-string\">&#x27;[ ➜](bold green) &#x27;</span>\n<span class=\"hljs-attr\">error_symbol</span> = <span class=\"hljs-string\">&#x27;[ ✗](#E84D44) &#x27;</span>\n\n<span class=\"hljs-section\">[time]</span>\n<span class=\"hljs-attr\">disabled</span> = <span class=\"hljs-literal\">false</span>\n<span class=\"hljs-attr\">time_format</span> = <span class=\"hljs-string\">&quot;%R&quot;</span> <span class=\"hljs-comment\"># Hour:Minute Format</span>\n<span class=\"hljs-attr\">style</span> = <span class=\"hljs-string\">&quot;bg:#1d2230&quot;</span>\n<span class=\"hljs-attr\">format</span> = <span class=\"hljs-string\">&#x27;[[ 󱑍 $time ](bg:#1C3A5E fg:#8DFBD2)]($style)&#x27;</span>\n</code></pre>\n<!-- format = '[[󱑍 $time ](bg:#1C3A5E fg:#8DFBD2)]($style)' -->\n<p>接著就會看到設定好的 prompt 了 🍺 ~</p>\n<p><img src=\"https://hackmd.io/_uploads/BJ8xmfgf0.png\" alt=\"image\" /></p>\n<div class=\"warning\">\n<p>⚠️ <strong>注意</strong></p>\n<p>如果遇到色塊有跑版，可以至 <code>Setting</code> &gt; <code>Appearance</code> 中的 <code>Text</code>，調整 Line Height，筆者的設定是 <code>Font size: 14</code> 和 <code>Line height: 1.2</code>。</p>\n<p><img src=\"https://hackmd.io/_uploads/BkKnNfgGA.png\" alt=\"image\" /></p>\n</div>\n<h2 id=\"設定 Warp theme\" title=\"設定 Warp theme\"><a href=\"#設定 Warp theme\">設定 Warp theme</a></h2>\n<h3>1. 新增 themes 資料夾</h3>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$mkdir</span> -p ~/.warp/themes/ &amp;&amp; <span class=\"hljs-built_in\">cd</span> ~/.warp/themes/\n</code></pre>\n<h3>2. 新增 theme yaml</h3>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$mkdir</span> -p <span class=\"hljs-string\">&#x27;coolnight&#x27;</span> &amp;&amp; <span class=\"hljs-built_in\">cd</span> coolnight\n</code></pre>\n<pre class=\"hljs\"><code><span class=\"hljs-variable\">$vi</span> coolnight.yaml\n</code></pre>\n<p>將下方內容貼上後，記得儲存後離開，這邊是參考 <a  href=\"https://github.com/theRubberDuckiee/dev-environment-files/blob/main/coolnight.yaml\" target=\"_blank\" rel=\"noreferrer noopener\">theRubberDuckiee 原設定</a>，更多設定可以參考 <a  href=\"https://docs.warp.dev/appearance/custom-themes\" target=\"_blank\" rel=\"noreferrer noopener\">Warp Document</a>。</p>\n<pre class=\"hljs\"><code><span class=\"hljs-attr\">accent:</span> <span class=\"hljs-string\">&quot;#38ff9c&quot;</span>\n<span class=\"hljs-attr\">background:</span> <span class=\"hljs-string\">&quot;#010b17&quot;</span>\n<span class=\"hljs-attr\">foreground:</span> <span class=\"hljs-string\">&quot;#ebddf4&quot;</span>\n<span class=\"hljs-attr\">details:</span> <span class=\"hljs-string\">&quot;darker&quot;</span>\n<span class=\"hljs-attr\">terminal_colors:</span>\n  <span class=\"hljs-attr\">normal:</span>\n    <span class=\"hljs-attr\">black:</span> <span class=\"hljs-string\">&quot;#0b3b61&quot;</span>\n    <span class=\"hljs-attr\">red:</span> <span class=\"hljs-string\">&quot;#ff3a3a&quot;</span>\n    <span class=\"hljs-attr\">green:</span> <span class=\"hljs-string\">&quot;#52ffcf&quot;</span>\n    <span class=\"hljs-attr\">yellow:</span> <span class=\"hljs-string\">&quot;#fff383&quot;</span>\n    <span class=\"hljs-attr\">blue:</span> <span class=\"hljs-string\">&quot;#1376f8&quot;</span>\n    <span class=\"hljs-attr\">magenta:</span> <span class=\"hljs-string\">&quot;#c792ea&quot;</span>\n    <span class=\"hljs-attr\">cyan:</span> <span class=\"hljs-string\">&quot;#ff5dd4&quot;</span>\n    <span class=\"hljs-attr\">white:</span> <span class=\"hljs-string\">&quot;#15fca2&quot;</span>\n  <span class=\"hljs-attr\">bright:</span>\n    <span class=\"hljs-attr\">black:</span> <span class=\"hljs-string\">&quot;#62686c&quot;</span>\n    <span class=\"hljs-attr\">red:</span> <span class=\"hljs-string\">&quot;#ff54b0&quot;</span>\n    <span class=\"hljs-attr\">green:</span> <span class=\"hljs-string\">&quot;#73ffd8&quot;</span>\n    <span class=\"hljs-attr\">yellow:</span> <span class=\"hljs-string\">&quot;#fcf4ad&quot;</span>\n    <span class=\"hljs-attr\">blue:</span> <span class=\"hljs-string\">&quot;#378dfe&quot;</span>\n    <span class=\"hljs-attr\">magenta:</span> <span class=\"hljs-string\">&quot;#ae81ff&quot;</span>\n    <span class=\"hljs-attr\">cyan:</span> <span class=\"hljs-string\">&quot;#ff69d7&quot;</span>\n    <span class=\"hljs-attr\">white:</span> <span class=\"hljs-string\">&quot;#5ffbbe&quot;</span>\n</code></pre>\n<h3>3. 選擇自定義 Theme</h3>\n<p>到 <code>Settings</code> &gt; <code>Appearance</code> 中的 Themes，點選 <code>Current theme</code>，接著在左邊找出剛剛新增的主題，點選後就會直接套用了。</p>\n<p><img src=\"https://hackmd.io/_uploads/Syp5_GlzA.png\" alt=\"image\" /></p>\n<h2 id=\"結語\" title=\"結語\"><a href=\"#結語\">結語</a></h2>\n<p>沒有特別追求樣式的話，其實 Warp 預設已經輾壓原生的 Terminal 太多太多了～</p>\n<p>但如果你是每次打開 Terminal，看到親手裝飾的樣式，心情都會被療癒一下，這篇可以當作是入門 Starship 的第一步～</p>\n<p>因為筆者在 P10K 和 Starship 選擇不出來，所以公司和私人電腦的 Warp 各搭配一種 😆<br />\n有興趣 Warp 搭配 P10K，可以參考筆者另一篇文章 <a  href=\"https://jenniesh.github.io/dev/Terminal/terminal-warp#%E5%AE%A2%E8%A3%BD%E5%8C%96%20Terminal%20-%20Warp%20+%20Powerlevel10k\" target=\"_blank\" rel=\"noreferrer noopener\">客製化 Terminal - Warp + Powerlevel10k</a></p>\n<h2 id=\"參考資料\" title=\"參考資料\"><a href=\"#參考資料\">參考資料</a></h2>\n<ul>\n<li><a  href=\"https://starship.rs/zh-TW/\" target=\"_blank\" rel=\"noreferrer noopener\">Starship</a></li>\n<li><a  href=\"https://dev.to/therubberduckiee/how-to-configure-starship-to-look-exactly-like-p10k-zsh-warp-h9h\" target=\"_blank\" rel=\"noreferrer noopener\">How to Configure Starship to Look Exactly Like P10K</a></li>\n</ul>\n","toc":{"title":"客製化 command line - Warp + Starship","subtitles":["安裝 Warp","設定字體","安裝 Starship","設定 Starship prompt config","設定 Warp theme","結語","參考資料"]},"wordCount":1136}